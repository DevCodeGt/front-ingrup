/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Input } from '@angular/core';
/**
 * @abstract
 * @template T
 */
var AbstractCamera = /** @class */ (function () {
    function AbstractCamera(rendererService) {
        this.rendererService = rendererService;
        this.zAxisUp = false;
        // console.log('AbstractCamera.constructor');
    }
    /**
     * @return {?}
     */
    AbstractCamera.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        // console.log('AbstractCamera.ngAfterViewInit');
        this.createCamera();
        this.applyZAxisUp();
        this.applyPosition();
        // TODO: Directive?
        this.rendererService.setCamera(this);
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    AbstractCamera.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        /** @type {?} */
        var mustRerender = false;
        if (['positionX', 'positionY', 'positionZ'].some((/**
         * @param {?} propName
         * @return {?}
         */
        function (propName) { return propName in changes; }))) {
            this.applyPosition();
            mustRerender = true;
        }
        if (mustRerender) {
            this.rendererService.render();
        }
    };
    /**
     * @protected
     * @return {?}
     */
    AbstractCamera.prototype.applyPosition = /**
     * @protected
     * @return {?}
     */
    function () {
        if (this.camera) {
            this.camera.position.set(this.positionX || 0, this.positionY || 0, this.positionZ || 0);
        }
    };
    /**
     * @protected
     * @return {?}
     */
    AbstractCamera.prototype.applyZAxisUp = /**
     * @protected
     * @return {?}
     */
    function () {
        if (this.camera && this.zAxisUp) {
            // Z axis up (similarly to 3D Creation Software: Blender, 3DS Max)
            this.camera.up.set(0, 0, 1);
        }
    };
    AbstractCamera.propDecorators = {
        positionX: [{ type: Input }],
        positionY: [{ type: Input }],
        positionZ: [{ type: Input }],
        zAxisUp: [{ type: Input }]
    };
    return AbstractCamera;
}());
export { AbstractCamera };
if (false) {
    /** @type {?} */
    AbstractCamera.prototype.camera;
    /** @type {?} */
    AbstractCamera.prototype.positionX;
    /** @type {?} */
    AbstractCamera.prototype.positionY;
    /** @type {?} */
    AbstractCamera.prototype.positionZ;
    /** @type {?} */
    AbstractCamera.prototype.zAxisUp;
    /**
     * @type {?}
     * @protected
     */
    AbstractCamera.prototype.rendererService;
    /**
     * @abstract
     * @protected
     * @return {?}
     */
    AbstractCamera.prototype.createCamera = function () { };
    /**
     * @abstract
     * @param {?} aspect
     * @return {?}
     */
    AbstractCamera.prototype.updateAspectRatio = function (aspect) { };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJzdHJhY3QtY2FtZXJhLmpzIiwic291cmNlUm9vdCI6Im5nOi8vYXRmdC8iLCJzb3VyY2VzIjpbImxpYi9jYW1lcmEvYWJzdHJhY3QtY2FtZXJhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQWdCLEtBQUssRUFBMkIsTUFBTSxlQUFlLENBQUM7Ozs7O0FBSTdFO0lBVUUsd0JBQ1ksZUFBZ0M7UUFBaEMsb0JBQWUsR0FBZixlQUFlLENBQWlCO1FBSG5DLFlBQU8sR0FBRyxLQUFLLENBQUM7UUFLdkIsNkNBQTZDO0lBQy9DLENBQUM7Ozs7SUFFTSx3Q0FBZTs7O0lBQXRCO1FBQ0UsaURBQWlEO1FBQ2pELElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUVwQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBRXJCLG1CQUFtQjtRQUNuQixJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN2QyxDQUFDOzs7OztJQU1ELG9DQUFXOzs7O0lBQVgsVUFBWSxPQUFzQjs7WUFDNUIsWUFBWSxHQUFHLEtBQUs7UUFFeEIsSUFBSSxDQUFDLFdBQVcsRUFBRSxXQUFXLEVBQUUsV0FBVyxDQUFDLENBQUMsSUFBSTs7OztRQUFDLFVBQUEsUUFBUSxJQUFJLE9BQUEsUUFBUSxJQUFJLE9BQU8sRUFBbkIsQ0FBbUIsRUFBQyxFQUFFO1lBQ2pGLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUNyQixZQUFZLEdBQUcsSUFBSSxDQUFDO1NBQ3JCO1FBRUQsSUFBSSxZQUFZLEVBQUU7WUFDaEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUMvQjtJQUVILENBQUM7Ozs7O0lBRVMsc0NBQWE7Ozs7SUFBdkI7UUFDRSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDZixJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQ3RCLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxFQUNuQixJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsRUFDbkIsSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLENBQ3BCLENBQUM7U0FDSDtJQUNILENBQUM7Ozs7O0lBRVMscUNBQVk7Ozs7SUFBdEI7UUFDRSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUMvQixrRUFBa0U7WUFDbEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDN0I7SUFDSCxDQUFDOzs0QkF4REEsS0FBSzs0QkFDTCxLQUFLOzRCQUNMLEtBQUs7MEJBRUwsS0FBSzs7SUFzRFIscUJBQUM7Q0FBQSxBQTlERCxJQThEQztTQTlEcUIsY0FBYzs7O0lBRWxDLGdDQUFVOztJQUVWLG1DQUEyQjs7SUFDM0IsbUNBQTJCOztJQUMzQixtQ0FBMkI7O0lBRTNCLGlDQUF5Qjs7Ozs7SUFHdkIseUNBQTBDOzs7Ozs7SUFnQjVDLHdEQUF3Qzs7Ozs7O0lBRXhDLG1FQUFrRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QWZ0ZXJWaWV3SW5pdCwgSW5wdXQsIE9uQ2hhbmdlcywgU2ltcGxlQ2hhbmdlc30gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IHtSZW5kZXJlclNlcnZpY2V9IGZyb20gJy4uL3JlbmRlcmVyL3JlbmRlcmVyLnNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0Q2FtZXJhPFQgZXh0ZW5kcyBUSFJFRS5DYW1lcmE+IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25DaGFuZ2VzIHtcclxuXHJcbiAgY2FtZXJhOiBUO1xyXG5cclxuICBASW5wdXQoKSBwb3NpdGlvblg6IG51bWJlcjtcclxuICBASW5wdXQoKSBwb3NpdGlvblk6IG51bWJlcjtcclxuICBASW5wdXQoKSBwb3NpdGlvblo6IG51bWJlcjtcclxuXHJcbiAgQElucHV0KCkgekF4aXNVcCA9IGZhbHNlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlY3RlZCByZW5kZXJlclNlcnZpY2U6IFJlbmRlcmVyU2VydmljZVxyXG4gICkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ0Fic3RyYWN0Q2FtZXJhLmNvbnN0cnVjdG9yJyk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ0Fic3RyYWN0Q2FtZXJhLm5nQWZ0ZXJWaWV3SW5pdCcpO1xyXG4gICAgdGhpcy5jcmVhdGVDYW1lcmEoKTtcclxuXHJcbiAgICB0aGlzLmFwcGx5WkF4aXNVcCgpO1xyXG4gICAgdGhpcy5hcHBseVBvc2l0aW9uKCk7XHJcblxyXG4gICAgLy8gVE9ETzogRGlyZWN0aXZlP1xyXG4gICAgdGhpcy5yZW5kZXJlclNlcnZpY2Uuc2V0Q2FtZXJhKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZUNhbWVyYSgpOiB2b2lkO1xyXG5cclxuICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlQXNwZWN0UmF0aW8oYXNwZWN0OiBudW1iZXIpO1xyXG5cclxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XHJcbiAgICBsZXQgbXVzdFJlcmVuZGVyID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKFsncG9zaXRpb25YJywgJ3Bvc2l0aW9uWScsICdwb3NpdGlvblonXS5zb21lKHByb3BOYW1lID0+IHByb3BOYW1lIGluIGNoYW5nZXMpKSB7XHJcbiAgICAgIHRoaXMuYXBwbHlQb3NpdGlvbigpO1xyXG4gICAgICBtdXN0UmVyZW5kZXIgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtdXN0UmVyZW5kZXIpIHtcclxuICAgICAgdGhpcy5yZW5kZXJlclNlcnZpY2UucmVuZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIGFwcGx5UG9zaXRpb24oKSB7XHJcbiAgICBpZiAodGhpcy5jYW1lcmEpIHtcclxuICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KFxyXG4gICAgICAgIHRoaXMucG9zaXRpb25YIHx8IDAsXHJcbiAgICAgICAgdGhpcy5wb3NpdGlvblkgfHwgMCxcclxuICAgICAgICB0aGlzLnBvc2l0aW9uWiB8fCAwLFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIGFwcGx5WkF4aXNVcCgpIHtcclxuICAgIGlmICh0aGlzLmNhbWVyYSAmJiB0aGlzLnpBeGlzVXApIHtcclxuICAgICAgLy8gWiBheGlzIHVwIChzaW1pbGFybHkgdG8gM0QgQ3JlYXRpb24gU29mdHdhcmU6IEJsZW5kZXIsIDNEUyBNYXgpXHJcbiAgICAgIHRoaXMuY2FtZXJhLnVwLnNldCgwLCAwLCAxKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcbiJdfQ==