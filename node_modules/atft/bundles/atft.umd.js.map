{"version":3,"file":"atft.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://atft/lib/camera/abstract-camera.ts","ng://atft/lib/renderer/renderer.service.ts","ng://atft/lib/camera/perspective-camera.component.ts","ng://atft/lib/camera/atft-camera.module.ts","ng://atft/lib/object/abstract-object-3d.ts","ng://atft/lib/object/connector/abstract-connector.ts","ng://atft/lib/util/applied-color.ts","ng://atft/lib/animation/animation.service.ts","ng://atft/lib/object/connector/mesh-line-connector.component.ts","ng://atft/lib/object/connector/line-connector.component.ts","ng://atft/lib/object/connector/atft-connector.module.ts","ng://atft/lib/object/helper/axes-helper.component.ts","ng://atft/lib/object/helper/empty.component.ts","ng://atft/lib/object/helper/grid-helper.component.ts","ng://atft/lib/object/helper/atft-helper.module.ts","ng://atft/lib/util/applied-material.ts","ng://atft/lib/util/calculate-size.ts","ng://atft/lib/util/fix-center.ts","ng://atft/lib/util/scale-to-fit.ts","ng://atft/lib/object/light/point-light.component.ts","ng://atft/lib/object/light/hemisphere-light.component.ts","ng://atft/lib/object/light/directional-light.component.ts","ng://atft/lib/object/light/atft-light.module.ts","ng://atft/lib/object/abstract-lazy-object-3d.ts","ng://atft/lib/object/loader/abstract-model-loader.ts","ng://atft/lib/object/loader/object-loader.component.ts","ng://atft/lib/object/loader/obj-loader.component.ts","ng://atft/lib/object/loader/svg-loader.component.ts","ng://atft/lib/object/loader/atft-loader.module.ts","ng://atft/lib/object/mesh/abstract-mesh-3d.ts","ng://atft/lib/object/mesh/box-mesh.component.ts","ng://atft/lib/object/mesh/cylinder-mesh.component.ts","ng://atft/lib/object/mesh/frame-mesh.component.ts","ng://atft/lib/object/mesh/plane-mesh.component.ts","ng://atft/lib/object/mesh/sphere-mesh.component.ts","ng://atft/lib/object/mesh/torus-mesh.component.ts","ng://atft/lib/object/mesh/abstract-css3d-mesh.ts","ng://atft/lib/object/mesh/css3d-video-mesh.component.ts","ng://atft/lib/object/mesh/atft-mesh.module.ts","ng://atft/lib/object/text/text-mesh.component.ts","ng://atft/lib/object/text/atft-text.module.ts","ng://atft/lib/object/scene.component.ts","ng://atft/lib/object/atft-object.module.ts","ng://atft/lib/raycaster/raycaster.service.ts","ng://atft/lib/renderer/renderer-canvas.component.ts","ng://atft/lib/control/abstract-orbit-controls.ts","ng://atft/lib/control/orbit-controls.component.ts","ng://atft/lib/control/map-controls.component.ts","ng://atft/lib/control/atft-control.module.ts","ng://atft/lib/pipe/deg2rad.pipe.ts","ng://atft/lib/pipe/rad2deg.pipe.ts","ng://atft/lib/pipe/atft-pipe.module.ts","ng://atft/lib/renderer/atft-renderer.module.ts","ng://atft/lib/animation/atft-animation.module.ts","ng://atft/lib/raycaster/raycaster-group.directive.ts","ng://atft/lib/raycaster/raycaster-camera.directive.ts","ng://atft/lib/raycaster/raycaster-enable.directive.ts","ng://atft/lib/raycaster/atft-raycaster.module.ts","ng://atft/lib/atft.module.ts","ng://atft/lib/object/helper/stats.service.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import {AfterViewInit, Input, OnChanges, SimpleChanges} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {RendererService} from '../renderer/renderer.service';\r\n\r\nexport abstract class AbstractCamera<T extends THREE.Camera> implements AfterViewInit, OnChanges {\r\n\r\n  camera: T;\r\n\r\n  @Input() positionX: number;\r\n  @Input() positionY: number;\r\n  @Input() positionZ: number;\r\n\r\n  @Input() zAxisUp = false;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    // console.log('AbstractCamera.constructor');\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    // console.log('AbstractCamera.ngAfterViewInit');\r\n    this.createCamera();\r\n\r\n    this.applyZAxisUp();\r\n    this.applyPosition();\r\n\r\n    // TODO: Directive?\r\n    this.rendererService.setCamera(this);\r\n  }\r\n\r\n  protected abstract createCamera(): void;\r\n\r\n  public abstract updateAspectRatio(aspect: number);\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    let mustRerender = false;\r\n\r\n    if (['positionX', 'positionY', 'positionZ'].some(propName => propName in changes)) {\r\n      this.applyPosition();\r\n      mustRerender = true;\r\n    }\r\n\r\n    if (mustRerender) {\r\n      this.rendererService.render();\r\n    }\r\n\r\n  }\r\n\r\n  protected applyPosition() {\r\n    if (this.camera) {\r\n      this.camera.position.set(\r\n        this.positionX || 0,\r\n        this.positionY || 0,\r\n        this.positionZ || 0,\r\n      );\r\n    }\r\n  }\r\n\r\n  protected applyZAxisUp() {\r\n    if (this.camera && this.zAxisUp) {\r\n      // Z axis up (similarly to 3D Creation Software: Blender, 3DS Max)\r\n      this.camera.up.set(0, 0, 1);\r\n    }\r\n  }\r\n\r\n}\r\n","import {Injectable, OnDestroy} from '@angular/core';\r\nimport {SceneComponent} from '../object/scene.component';\r\nimport {AbstractCamera} from '../camera/abstract-camera';\r\nimport * as THREE from 'three';\r\nimport {CSS3DRenderer} from 'three/examples/jsm/renderers/CSS3DRenderer';\r\n\r\n/* TODO: Refactor to pair\r\ninterface RendererPair {\r\n  scene: SceneComponent;\r\n  camera: AbstractCamera<any>;\r\n  webGlRenderer: THREE.Renderer;\r\n  layers: Array<number>;\r\n}\r\n*/\r\n\r\n@Injectable()\r\nexport class RendererService implements OnDestroy {\r\n  private init = false;\r\n\r\n  private scene: SceneComponent;\r\n  private camera: AbstractCamera<any>;\r\n  private webGlRenderer: THREE.WebGLRenderer;\r\n  // TODO:\r\n  private css3dRenderer: CSS3DRenderer;\r\n\r\n  private aspect: number;\r\n\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n\r\n  }\r\n\r\n\r\n  public setScene(scene: SceneComponent) {\r\n    this.scene = scene;\r\n  }\r\n\r\n  public setCamera(camera: AbstractCamera<any>) {\r\n    this.camera = camera;\r\n    this.camera.updateAspectRatio(this.aspect);\r\n  }\r\n\r\n  public render() {\r\n    if (this.init && this.scene && this.camera) {\r\n      //  console.log('render');\r\n      this.webGlRenderer.render(this.scene.getObject(), this.camera.camera);\r\n      this.css3dRenderer.render(this.scene.getObject(), this.camera.camera);\r\n    }\r\n  }\r\n\r\n  public initialize(canvas: HTMLCanvasElement) {\r\n    // console.log('RendererComponent.initialize');\r\n\r\n    // TODO: Multiple renderers\r\n    this.webGlRenderer = new THREE.WebGLRenderer({\r\n      canvas: canvas,\r\n      antialias: true,\r\n      alpha: true\r\n    });\r\n    this.webGlRenderer.setPixelRatio(devicePixelRatio);\r\n    this.webGlRenderer.setSize(canvas.clientWidth, canvas.clientHeight, false);\r\n\r\n    // TODO: props\r\n    this.webGlRenderer.shadowMap.enabled = false;\r\n    this.webGlRenderer.shadowMap.autoUpdate = false;\r\n    this.webGlRenderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n    this.webGlRenderer.setClearColor(0x000000, 0);\r\n    this.webGlRenderer.autoClear = true;\r\n    canvas.style.zIndex = '2';\r\n\r\n    // ------------------------------ START\r\n    this.css3dRenderer = new CSS3DRenderer();\r\n    this.css3dRenderer.setSize(window.innerWidth, window.innerHeight);\r\n    this.css3dRenderer.domElement.style.position = 'absolute';\r\n    this.css3dRenderer.domElement.style.top = '0';\r\n    this.css3dRenderer.domElement.style.zIndex = '1';\r\n    canvas.parentElement.appendChild(this.css3dRenderer.domElement);\r\n\r\n    // ------------------------------ END\r\n\r\n    this.updateChildCamerasAspectRatio(canvas);\r\n    this.init = true;\r\n    this.render();\r\n  }\r\n\r\n\r\n  public resize(canvas: HTMLCanvasElement, size: string) {\r\n    canvas.style.width = size;\r\n    canvas.style.height = size;\r\n    const width = canvas.clientWidth;\r\n    const height = canvas.clientHeight;\r\n\r\n    this.webGlRenderer.setSize(width, height, true);\r\n    this.css3dRenderer.setSize(width, height);\r\n    this.updateChildCamerasAspectRatio(canvas);\r\n    this.render();\r\n  }\r\n\r\n  private calculateAspectRatio(canvas: HTMLCanvasElement) {\r\n    const height = canvas.clientHeight;\r\n    if (height === 0) {\r\n      return 0;\r\n    }\r\n    this.aspect = canvas.clientWidth / canvas.clientHeight;\r\n  }\r\n\r\n  private updateChildCamerasAspectRatio(canvas: HTMLCanvasElement) {\r\n    this.calculateAspectRatio(canvas);\r\n    if (this.camera) {\r\n      this.camera.updateAspectRatio(this.aspect);\r\n    }\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport {AbstractCamera} from './abstract-camera';\r\nimport * as THREE from 'three';\r\nimport {RendererService} from '../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-perspective-camera',\r\n  providers: [{provide: AbstractCamera, useExisting: forwardRef(() => PerspectiveCameraComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class PerspectiveCameraComponent extends AbstractCamera<THREE.PerspectiveCamera> {\r\n\r\n  @Input() fov: number;\r\n  @Input() near: number;\r\n  @Input() far: number;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected createCamera(): void {\r\n    // console.log('PerspectiveCameraComponent.createCamera');\r\n    // let aspectRatio = undefined; // Updated later\r\n    this.camera = new THREE.PerspectiveCamera(\r\n      this.fov,\r\n      undefined,\r\n      this.near,\r\n      this.far\r\n    );\r\n  }\r\n\r\n  public updateAspectRatio(aspect: number) {\r\n    // console.log('PerspectiveCameraComponent.updateAspectRatio: ' + aspect);\r\n    this.camera.aspect = aspect;\r\n    this.camera.updateProjectionMatrix();\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {PerspectiveCameraComponent} from './perspective-camera.component';\n\n\n@NgModule({\n  declarations: [\n    PerspectiveCameraComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    PerspectiveCameraComponent\n  ]\n})\nexport class AtftCameraModule {\n}\n","import {\r\n  AfterViewInit,\r\n  ContentChildren,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  Output,\r\n  QueryList,\r\n  SimpleChanges,\r\n  ViewChildren\r\n} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {RendererService} from '../renderer/renderer.service';\r\n\r\nexport abstract class AbstractObject3D<T extends THREE.Object3D> implements AfterViewInit, OnChanges, OnDestroy {\r\n\r\n  @ContentChildren(AbstractObject3D, {descendants: false}) childNodes: QueryList<AbstractObject3D<THREE.Object3D>>;\r\n\r\n  @ViewChildren(AbstractObject3D) viewChilds: QueryList<AbstractObject3D<THREE.Object3D>>;\r\n\r\n  /**\r\n   * Rotation in Euler angles (radians) with order X, Y, Z.\r\n   */\r\n  @Input() rotateX: number;\r\n  @Input() rotateY: number;\r\n  @Input() rotateZ: number;\r\n\r\n  /**\r\n   * Translate the geometry. This is typically done as a one time operation, and not during a loop.\r\n   */\r\n  @Input() translateX: number;\r\n  @Input() translateY: number;\r\n  @Input() translateZ: number;\r\n\r\n  @Input() name: string;\r\n\r\n  @Output() changed = new EventEmitter<void>();\r\n\r\n  private object: T;\r\n\r\n  constructor(protected rendererService: RendererService) {\r\n    // console.log('AbstractObject3D.constructor');\r\n    this.changed.subscribe(() => {\r\n      this.rendererService.render();\r\n    });\r\n\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges) {\r\n    if (!this.object) {\r\n      return;\r\n    }\r\n\r\n    let modified = false;\r\n\r\n    if (['rotateX', 'rotateY', 'rotateZ'].some(propName => propName in changes)) {\r\n      this.applyRotation();\r\n      modified = true;\r\n    }\r\n    if (['translateX', 'translateY', 'translateZ'].some(propName => propName in changes)) {\r\n      this.applyTranslation();\r\n      modified = true;\r\n    }\r\n\r\n    if (modified) {\r\n      this.changed.emit();\r\n    }\r\n\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    // console.log('AbstractObject3D.OnDestroy');\r\n    if (this.object && this.object.parent) {\r\n      this.object.parent.remove(this.object);\r\n    }\r\n  }\r\n\r\n  public ngAfterViewInit() {\r\n    // console.log('AbstractObject3D.ngAfterViewInit ' + this.name);\r\n    this.object = this.newObject3DInstance();\r\n\r\n    this.applyTranslation();\r\n    this.applyRotation();\r\n\r\n    this.collectChilds();\r\n\r\n    this.afterInit();\r\n  }\r\n\r\n  public collectChilds() {\r\n    // console.log('Collect childs for', this.name);\r\n    if (this.childNodes !== undefined && this.childNodes.length > 1) {\r\n      this.childNodes.filter(i => i !== this && i.getObject() !== undefined).forEach(i => {\r\n        // console.log('Add childNodes for', this.name, i);\r\n        this.addChild(i.getObject());\r\n      });\r\n    } else {\r\n      // console.log(\"No child Object3D for: \" + this.constructor.label);\r\n    }\r\n\r\n\r\n    if (this.viewChilds !== undefined && this.viewChilds.length > 0) {\r\n      this.viewChilds.filter(\r\n        i => i !== this\r\n          && i.getObject() !== undefined\r\n          && !i.getObject().parent /* direct childs only */\r\n      ).forEach(i => {\r\n        // console.log('Add viewChilds for', this.name, i);\r\n        this.addChild(i.getObject());\r\n      });\r\n    } else {\r\n      // console.log(\"No child Object3D for: \" + this.constructor.label);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  private applyRotation(): void {\r\n    this.object.rotation.set(\r\n      this.rotateX || 0,\r\n      this.rotateY || 0,\r\n      this.rotateZ || 0,\r\n      'XYZ'\r\n    );\r\n  }\r\n\r\n  private applyTranslation(): void {\r\n    this.object.position.set(\r\n      this.translateX || 0,\r\n      this.translateY || 0,\r\n      this.translateZ || 0\r\n    );\r\n  }\r\n\r\n  public addChild(object: THREE.Object3D): void {\r\n    this.object.add(object);\r\n  }\r\n\r\n  protected removeChild(object: THREE.Object3D): void {\r\n    this.object.remove(object);\r\n  }\r\n\r\n  public getObject(): T {\r\n    return this.object;\r\n  }\r\n\r\n  protected afterInit() {\r\n    // this.changed.emit();\r\n  }\r\n\r\n  protected abstract newObject3DInstance(): T;\r\n\r\n\r\n}\r\n","import {Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\n\r\nexport abstract class AbstractConnector<T extends THREE.Object3D> extends AbstractObject3D<T> {\r\n\r\n  @Input()\r\n  source: AbstractObject3D<THREE.Object3D>;\r\n\r\n  @Input()\r\n  target: AbstractObject3D<THREE.Object3D>;\r\n\r\n  protected newObject3DInstance(): T {\r\n    const mesh = this.createConnectorObject();\r\n    this.watchObjects();\r\n    return mesh;\r\n  }\r\n\r\n  private watchObjects() {\r\n    this.source.changed.subscribe(item => {\r\n      this.updateLineGeometry();\r\n    });\r\n\r\n    this.target.changed.subscribe(item => {\r\n      this.updateLineGeometry();\r\n    });\r\n  }\r\n\r\n  protected getLineGeometry(): THREE.Geometry {\r\n    const geo = new THREE.Geometry();\r\n    if (!this.source || !this.target) {\r\n      throw new Error('AbstractConnector: source or target inputs are missing!');\r\n    }\r\n    geo.vertices.push(this.source.getObject().position);\r\n    geo.vertices.push(this.target.getObject().position);\r\n    return geo;\r\n  }\r\n\r\n\r\n  /**\r\n   * Create line mesh\r\n   */\r\n  abstract createConnectorObject(): T;\r\n\r\n  /**\r\n   * If at least one line end (source or target object)  changed, then line geoetry should be updated as well\r\n   * // TODO: Calculate only when source/target positions were changed\r\n   */\r\n  abstract updateLineGeometry(): void;\r\n\r\n}\r\n","/**\r\n * Fix color number binding issues\r\n * @param color Color number from binding input\r\n * @param defaultColor default value in case of binding issues\r\n */\r\nexport function appliedColor(color: number, defaultColor?: number): number {\r\n  let resultColor = (defaultColor ? defaultColor : 0xffffff);\r\n  if (color !== undefined  ) {\r\n    resultColor = color * 1;\r\n  }\r\n  return resultColor;\r\n}\r\n","import {EventEmitter, Injectable, Optional, SkipSelf} from '@angular/core';\r\nimport {RendererService} from '../renderer/renderer.service';\r\n\r\n\r\n/**\r\n * Animation service emits animate event, which should be used by animated components for animation logic.\r\n * NOTE: this service is for the performance optimization: requestAnimationFrame and render is called once.\r\n */\r\n@Injectable()\r\nexport class AnimationService {\r\n\r\n  /**\r\n   * Subscribe for animation frame creation (change position and etc.)\r\n   * Avoid render() execution, it's called only once when all components updated animation frame.\r\n   */\r\n  readonly animate = new EventEmitter<void>();\r\n\r\n  private enabled = false;\r\n\r\n  constructor(\r\n    private rendererService: RendererService\r\n  ) {\r\n    this.animationStep = this.animationStep.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Start the animation loop.\r\n   */\r\n  public start() {\r\n    if (!this.enabled) {\r\n      this.enabled = true;\r\n      this.animationStep();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Stop all animations.\r\n   */\r\n  public stop() {\r\n    if (this.enabled) {\r\n      this.enabled = false;\r\n    }\r\n  }\r\n\r\n  private animationStep() {\r\n    if (this.enabled) {\r\n      requestAnimationFrame(this.animationStep);\r\n      if (this.animate.observers.length > 0) {\r\n        this.animate.emit();\r\n        /**\r\n         * When all components updated animation, render event is emitted.\r\n         * Main renderer subscribed to this event emitter.\r\n         */\r\n        this.rendererService.render();\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {MeshLine, MeshLineMaterial} from 'three.meshline';\r\nimport {AbstractConnector} from './abstract-connector';\r\nimport {appliedColor} from '../../util/applied-color';\r\nimport {AnimationService} from '../../animation/animation.service';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-mesh-line-connector',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => MeshLineConnectorComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class MeshLineConnectorComponent extends AbstractConnector<THREE.Mesh> {\r\n\r\n  @Input()\r\n  materialColor = 0xffff00;\r\n\r\n  @Input()\r\n  transparent = true;\r\n\r\n  @Input()\r\n  opacity = 0.5;\r\n\r\n  @Input()\r\n  lineWidth = 0.5;\r\n\r\n  @Input()\r\n  depthWrite = true;\r\n\r\n  @Input()\r\n  depthTest = true;\r\n\r\n  @Input()\r\n  animated = false;\r\n\r\n  @Input() animationIncrement = 0.002;\r\n\r\n  private geometry: THREE.Geometry;\r\n  private line: MeshLine;\r\n  private lineMaterial: MeshLineMaterial;\r\n\r\n\r\n  constructor(\r\n    protected animationService: AnimationService,\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  createConnectorObject(): THREE.Mesh {\r\n    this.geometry = this.getLineGeometry();\r\n\r\n    this.line = new MeshLine();\r\n    this.line.setGeometry(this.geometry);\r\n\r\n    this.lineMaterial = (this.animated ?\r\n        new MeshLineMaterial({\r\n          color: appliedColor(this.materialColor),\r\n          transparent: this.transparent,\r\n          opacity: this.opacity,\r\n          lineWidth: this.lineWidth,\r\n          depthWrite: this.depthWrite,\r\n          depthTest: this.depthTest,\r\n          side: THREE.DoubleSide,\r\n          blending: THREE.NormalBlending,\r\n          // TODO: props\r\n          dashArray: 0.05,\r\n          dashOffset: 0.1,\r\n          dashRatio: 0.1\r\n        })\r\n        : new MeshLineMaterial({\r\n          color: appliedColor(this.materialColor),\r\n          transparent: this.transparent,\r\n          opacity: this.opacity,\r\n          lineWidth: this.lineWidth,\r\n          depthWrite: this.depthWrite,\r\n          depthTest: this.depthTest,\r\n          side: THREE.DoubleSide,\r\n          blending: THREE.NormalBlending\r\n        })\r\n    );\r\n\r\n    const mesh = new THREE.Mesh(this.line.geometry, this.lineMaterial);\r\n    if (this.animated) {\r\n      this.animate = this.animate.bind(this);\r\n      this.animationService.animate.subscribe(this.animate);\r\n    }\r\n    return mesh;\r\n  }\r\n\r\n  private animate() {\r\n    this.lineMaterial.uniforms.dashOffset.value += this.animationIncrement;\r\n  }\r\n\r\n  updateLineGeometry(): void {\r\n    // https://github.com/spite/THREE.MeshLine/issues/51#issuecomment-379579926\r\n    this.line.setGeometry(this.geometry);\r\n    this.rendererService.render();\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {AbstractConnector} from './abstract-connector';\r\nimport {appliedColor} from '../../util/applied-color';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-line-connector',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => LineConnectorComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class LineConnectorComponent extends AbstractConnector<THREE.Line> {\r\n\r\n  @Input()\r\n  materialColor = 0xffff00;\r\n\r\n  // TODO: move to abstract?\r\n  private geometry: THREE.Geometry;\r\n\r\n  constructor(protected rendererService: RendererService) {\r\n    super(rendererService);\r\n  }\r\n\r\n  public createConnectorObject(): THREE.Line {\r\n    this.geometry = this.getLineGeometry();\r\n\r\n    const material = new THREE.LineBasicMaterial({\r\n      color: appliedColor(this.materialColor),\r\n      /**\r\n       * NOTE: linewidth=1: Due to limitations of the OpenGL Core Profile\r\n       * with the WebGL renderer on most platforms linewidth will always be 1\r\n       * regardless of the set value.\r\n       */\r\n      linewidth: 1\r\n    });\r\n\r\n    const line = new THREE.Line(this.geometry, material);\r\n\r\n    return line;\r\n  }\r\n\r\n  updateLineGeometry(): void {\r\n    this.geometry.verticesNeedUpdate = true;\r\n    this.rendererService.render();\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {MeshLineConnectorComponent} from './mesh-line-connector.component';\r\nimport {LineConnectorComponent} from './line-connector.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LineConnectorComponent,\r\n    MeshLineConnectorComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    LineConnectorComponent,\r\n    MeshLineConnectorComponent\r\n  ]\r\n})\r\nexport class AtftConnectorModule {\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-axes-helper',\r\n  providers: [{ provide: AbstractObject3D, useExisting: forwardRef(() => AxesHelperComponent) }],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class AxesHelperComponent extends AbstractObject3D<THREE.AxesHelper> {\r\n\r\n  @Input() size: number;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected newObject3DInstance(): THREE.AxesHelper {\r\n    // console.log('AxesHelperComponent.newObject3DInstance');\r\n    return new THREE.AxesHelper(this.size);\r\n  }\r\n\r\n\r\n}\r\n","import {AfterViewInit, Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-empty',\r\n  providers: [{ provide: AbstractObject3D, useExisting: forwardRef(() => EmptyComponent) }],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class EmptyComponent extends AbstractObject3D<THREE.Object3D> implements AfterViewInit {\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected newObject3DInstance(): THREE.Object3D {\r\n    return new THREE.Object3D();\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-grid-helper',\r\n  providers: [{ provide: AbstractObject3D, useExisting: forwardRef(() => GridHelperComponent) }],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class GridHelperComponent extends AbstractObject3D<THREE.AxesHelper> {\r\n\r\n  @Input() size: number;\r\n  @Input() divisions: number;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected newObject3DInstance(): THREE.AxesHelper {\r\n    // console.log('GridHelperComponent.newObject3DInstance');\r\n    return new THREE.GridHelper(this.size, this.divisions);\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {AxesHelperComponent} from './axes-helper.component';\r\nimport {EmptyComponent} from './empty.component';\r\nimport {GridHelperComponent} from './grid-helper.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AxesHelperComponent,\r\n    EmptyComponent,\r\n    GridHelperComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    AxesHelperComponent,\r\n    EmptyComponent,\r\n    GridHelperComponent\r\n  ]\r\n})\r\nexport class AtftHelperModule {\r\n}\r\n","import * as THREE from 'three';\r\nimport {appliedColor} from './applied-color';\r\n\r\n\r\n/**\r\n * Creates material\r\n *\r\n * @param materialColor color\r\n * @param materialName material label as string\r\n * @param depthWrite enable depth write\r\n */\r\nexport function appliedMaterial(materialColor: number | THREE.Color, materialName?: string, depthWrite?: boolean): THREE.Material {\r\n\r\n  const props = {\r\n    color: (materialColor instanceof THREE.Color ? materialColor : appliedColor(materialColor)),\r\n    side: THREE.DoubleSide,\r\n    depthWrite: (depthWrite !== undefined ? depthWrite : true)\r\n  };\r\n\r\n  if (materialName === 'lamb') {\r\n    return new THREE.MeshLambertMaterial(props);\r\n  } else if (materialName === 'basic') {\r\n    return new THREE.MeshBasicMaterial(props);\r\n  } else {\r\n    return new THREE.MeshPhongMaterial(props);\r\n  }\r\n\r\n}\r\n\r\n\r\n","import * as THREE from 'three';\r\n\r\nexport function calculateSize(group: THREE.Object3D): THREE.Vector3 {\r\n  const box = new THREE.Box3().setFromObject(group);\r\n  return new THREE.Vector3(\r\n    box.max.x - box.min.x,\r\n    box.max.y - box.min.y,\r\n    box.max.z - box.min.z\r\n  );\r\n}\r\n","import * as THREE from 'three';\r\nimport {calculateSize} from './calculate-size';\r\n\r\nexport function fixCenter(group: THREE.Object3D) {\r\n  const box = calculateSize(group);\r\n  group.translateX(-box.x / 2);\r\n  group.translateY(-box.y / 2);\r\n  group.translateZ(-box.z / 2);\r\n}\r\n","import * as THREE from 'three';\r\nimport {calculateSize} from './calculate-size';\r\n\r\nexport function scaleToFit(group: THREE.Object3D, max: THREE.Vector3) {\r\n  const box = calculateSize(group);\r\n\r\n  const scaleX = max.x / box.x;\r\n  const scaleY = max.y / box.y;\r\n  const scaleZ = max.z / box.z;\r\n\r\n  group.scale.set(\r\n    (scaleX < 1 ? scaleX : 1),\r\n    (scaleY < 1 ? scaleY : 1),\r\n    (scaleZ < 1 ? scaleZ : 1)\r\n  );\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {appliedColor} from '../../util';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-point-light',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => PointLightComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class PointLightComponent extends AbstractObject3D<THREE.PointLight> {\r\n\r\n  @Input() color = 0xffffff;\r\n  @Input() intensity = 1;\r\n  @Input() distance = 500;\r\n  @Input() castShadow = false;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected newObject3DInstance() {\r\n    const light = new THREE.PointLight(appliedColor(this.color), this.intensity, this.distance);\r\n\r\n    if (this.castShadow === true) {\r\n      light.castShadow = this.castShadow;\r\n      // TODO: props\r\n      light.shadow.mapSize.width = 1024;\r\n      light.shadow.mapSize.height = 1024;\r\n      light.shadow.camera.near = 0.5;\r\n      light.shadow.camera.far = 500;\r\n      light.shadow.bias = -0.001;\r\n      light.shadow.radius = 1;\r\n    }\r\n\r\n    return light;\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {appliedColor} from '../../util/applied-color';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-hemisphere-light',\r\n  providers: [{ provide: AbstractObject3D, useExisting: forwardRef(() => HemisphereLightComponent) }],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class HemisphereLightComponent extends AbstractObject3D<THREE.HemisphereLight> {\r\n\r\n  @Input() skyColor = 0xffffff;\r\n  @Input() groundColor = 0x444444;\r\n  @Input() intensity = 1;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected newObject3DInstance() {\r\n\r\n    const light = new THREE.HemisphereLight(\r\n      appliedColor(this.skyColor),\r\n      appliedColor(this.groundColor),\r\n      appliedColor(this.intensity)\r\n    );\r\n\r\n    return light;\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {appliedColor} from '../../util/applied-color';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-directional-light',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => DirectionalLightComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class DirectionalLightComponent extends AbstractObject3D<THREE.DirectionalLight> {\r\n\r\n  @Input() color = 0xffffff;\r\n  @Input() intensity = 1;\r\n  // by default, target is 0,0,0\r\n  @Input() target = new THREE.Object3D();\r\n  @Input() castShadow = true;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected newObject3DInstance() {\r\n\r\n    const light = new THREE.DirectionalLight(\r\n      appliedColor(this.color),\r\n      this.intensity\r\n    );\r\n\r\n    light.target = this.target;\r\n\r\n    if (this.castShadow === true) {\r\n      light.castShadow = this.castShadow;\r\n      // TODO: props\r\n      light.shadow.camera.top = 100;\r\n      light.shadow.camera.bottom = -100;\r\n      light.shadow.camera.left = -100;\r\n      light.shadow.camera.right = 100;\r\n      light.shadow.camera.near = 0.1;\r\n      light.shadow.camera.far = 500;\r\n      light.shadow.mapSize.set(1024, 1024);\r\n      light.shadow.bias = -0.001;\r\n\r\n    }\r\n    return light;\r\n\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {PointLightComponent} from './point-light.component';\r\nimport {HemisphereLightComponent} from './hemisphere-light.component';\r\nimport {DirectionalLightComponent} from './directional-light.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DirectionalLightComponent,\r\n    HemisphereLightComponent,\r\n    PointLightComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    DirectionalLightComponent,\r\n    HemisphereLightComponent,\r\n    PointLightComponent\r\n  ]\r\n})\r\nexport class AtftLightModule {\r\n}\r\n","import {OnDestroy} from '@angular/core';\r\n\r\nimport {AbstractObject3D} from './abstract-object-3d';\r\n\r\nimport * as THREE from 'three';\r\n\r\nexport abstract class AbstractLazyObject3D extends AbstractObject3D<THREE.Object3D> implements OnDestroy {\r\n\r\n  /**\r\n   * Flag to signal whether the parent class instance AbstractObject3D called the\r\n   * overwritten method {@link AbstractModelLoader#afterInit} yet.\r\n   *\r\n   * Unless that method was called, no methods and properties of {@link AbstractObject3D}\r\n   * may be safely accessed, especially {@link AbstractObject3D#addChild} and\r\n   * {@link AbstractObject3D.renderer}.\r\n   */\r\n  private parentInitialized = false;\r\n\r\n  /**\r\n   * This is reference to lazy loaded Object3D (async after init)\r\n   */\r\n  protected lazyObject: THREE.Object3D | undefined;\r\n\r\n  /**\r\n   * Abstract method for lazy loading\r\n   *\r\n   */\r\n  protected abstract async loadLazyObject(): Promise<THREE.Object3D>;\r\n\r\n  protected afterInit() {\r\n    super.afterInit();\r\n    this.parentInitialized = true;\r\n    this.startLoading();\r\n  }\r\n\r\n  protected startLoading() {\r\n    // console.log('AbstractLazyObject3D.startLoading');\r\n    // Trigger model acquisition now that the parent has been initialized.\r\n    this.loadLazyObject().then(obj => {\r\n      // console.log('AbstractLazyObject3D loaded');\r\n      // remove old if exists\r\n      if (this.lazyObject) {\r\n        super.removeChild(this.lazyObject);\r\n      }\r\n\r\n      // add lazy object to scene\r\n      this.lazyObject = obj;\r\n      super.addChild(obj);\r\n\r\n      this.rendererService.render();\r\n    }).catch(err => {\r\n      console.error(err);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.lazyObject) {\r\n      super.removeChild(this.lazyObject);\r\n    }\r\n  }\r\n\r\n  protected newObject3DInstance(): THREE.Object3D {\r\n    // Just empty object (holder of lazy object)\r\n    return new THREE.Object3D();\r\n  }\r\n\r\n}\r\n","import {Input} from '@angular/core';\r\nimport {AbstractLazyObject3D} from '../abstract-lazy-object-3d';\r\n\r\n/**\r\n * Helper parent class for model loader.\r\n *\r\n * @see ObjLoaderComponent\r\n */\r\nexport abstract class AbstractModelLoader extends AbstractLazyObject3D {\r\n\r\n  protected _model: string;\r\n\r\n  /**\r\n   * The model data source (usually a URI).\r\n   * Settings this property only hides the previous model upon successful\r\n   * loading of the new one. This especially means that if the new data source\r\n   * is invalid, the old model will *not* be removed from the scene.\r\n   */\r\n  @Input()\r\n  public set model(newModelUrl: string) {\r\n    if (this._model !== newModelUrl) {\r\n      this._model = newModelUrl;\r\n      super.startLoading();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The current model data source (usually a URI).\r\n   */\r\n  public get model() {\r\n    return this._model;\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef} from '@angular/core';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {AbstractModelLoader} from './abstract-model-loader';\r\n\r\nimport * as THREE from 'three';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-object-loader',\r\n  providers: [{ provide: AbstractObject3D, useExisting: forwardRef(() => ObjectLoaderComponent) }],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class ObjectLoaderComponent extends AbstractModelLoader {\r\n  private loader = new THREE.ObjectLoader();\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected async loadLazyObject() {\r\n    // console.log('ObjectLoaderComponent.loadLazyObject');\r\n    return new Promise<THREE.Object3D>((resolve, reject) => {\r\n      this.loader.load(this.model, model => {\r\n          // BUG #95: it seems that some textures loaded after last render (and model has black texture instead)\r\n          resolve(model);\r\n        },\r\n        undefined,\r\n        reject\r\n      );\r\n    });\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {AbstractModelLoader} from './abstract-model-loader';\r\nimport {OBJLoader} from 'three/examples/jsm/loaders/OBJLoader';\r\nimport {MTLLoader} from 'three/examples/jsm/loaders/MTLLoader';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n/**\r\n * Component for employing THREE.OBJLoader to load [Wavefront *.obj files][1].\r\n *\r\n * [1]: https://en.wikipedia.org/wiki/Wavefront_.obj_file\r\n */\r\n@Component({\r\n  selector: 'atft-obj-loader',\r\n  providers: [{ provide: AbstractObject3D, useExisting: forwardRef(() => ObjLoaderComponent) }],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class ObjLoaderComponent extends AbstractModelLoader {\r\n\r\n  private loader = new OBJLoader();\r\n  private mtlLoader = new MTLLoader();\r\n\r\n  @Input()\r\n  material: string;\r\n\r\n  /**\r\n   * Path relative to which resources and textures within the loaded obj file are loaded.\r\n   * @deprecated Rather use resourcePath\r\n   */\r\n  @Input()\r\n  public set texturePath(newTexturePath: string) {\r\n    this.resourcePath = newTexturePath;\r\n  }\r\n\r\n  /**\r\n   * Path relative to which resources and textures within the loaded obj file are loaded.\r\n   */\r\n  @Input()\r\n  resourcePath: string;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected async loadLazyObject() {\r\n    // Preloading step for the material\r\n    const preloadingStep = new Promise<void>((resolve, reject) => {\r\n      if (this.material === undefined) {\r\n        // No preloading necessary\r\n        resolve();\r\n      } else {\r\n        // TODO: If typings of mtlLoader are included in the Three.js NPM\r\n        // package, remove this 'any' cast.\r\n        (this.mtlLoader as any).setResourcePath(this.resourcePath);\r\n\r\n        this.mtlLoader.load(this.material, materialCreator => {\r\n          materialCreator.preload();\r\n          this.loader.setMaterials(materialCreator);\r\n          resolve();\r\n        }, undefined, reject);\r\n      }\r\n    });\r\n\r\n    // Await preloading and load final model\r\n    return preloadingStep.then(() => {\r\n      return new Promise<THREE.Object3D>((resolve, reject) => {\r\n        this.loader.load(this.model, model => {\r\n          resolve(model);\r\n        }, undefined, reject);\r\n      });\r\n    });\r\n  }\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {AbstractModelLoader} from './abstract-model-loader';\r\nimport {SVGLoader} from 'three/examples/jsm/loaders/SVGLoader';\r\n\r\nimport * as THREE from 'three';\r\nimport {appliedColor, appliedMaterial} from '../../util';\r\nimport {fixCenter} from '../../util/fix-center';\r\nimport {scaleToFit} from '../../util/scale-to-fit';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-svg-loader',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => SVGLoaderComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class SVGLoaderComponent extends AbstractModelLoader {\r\n\r\n  @Input()\r\n  get overrideMaterialColor(): number {\r\n    return this._overrideMaterialColor;\r\n  }\r\n\r\n  set overrideMaterialColor(value: number) {\r\n    this._overrideMaterialColor = value;\r\n    this.startLoading();\r\n  }\r\n\r\n  private _overrideMaterialColor: number = undefined;\r\n\r\n\r\n  @Input()\r\n  material = 'basic';\r\n\r\n  @Input()\r\n  depthWrite = true;\r\n\r\n  @Input()\r\n  maxX: number;\r\n\r\n  @Input()\r\n  maxY: number;\r\n\r\n  @Input()\r\n  centered = true;\r\n\r\n  private loader = new SVGLoader();\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected async loadLazyObject() {\r\n    // console.log('ObjectLoaderComponent.loadLazyObject');\r\n    return new Promise<THREE.Object3D>((resolve, reject) => {\r\n      this.loader.load(this.model, data => {\r\n          const paths = data.paths;\r\n          const group = new THREE.Group();\r\n\r\n          for (let i = 0; i < paths.length; i++) {\r\n            // NOTE: It seems that ShapePath does not includes typed color, cast to any as workaround\r\n            const path: any = paths[i];\r\n            const color = (this._overrideMaterialColor ? appliedColor(this._overrideMaterialColor) : path.color);\r\n            const material = appliedMaterial(color, this.material, this.depthWrite);\r\n            const shapes = path.toShapes(true, {});\r\n\r\n            for (let j = 0; j < shapes.length; j++) {\r\n              const shape = shapes[j];\r\n              const geometry = new THREE.ShapeBufferGeometry(shape);\r\n              const mesh = new THREE.Mesh(geometry, material);\r\n              group.add(mesh);\r\n            }\r\n          }\r\n\r\n          if (this.maxX || this.maxY) {\r\n            scaleToFit(group, new THREE.Vector3(this.maxX, this.maxY, 0));\r\n          }\r\n          if (this.centered) {\r\n            fixCenter(group);\r\n          }\r\n\r\n          resolve(group);\r\n        },\r\n        undefined,\r\n        reject);\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {ObjectLoaderComponent} from './object-loader.component';\r\nimport {ObjLoaderComponent} from './obj-loader.component';\r\nimport {SVGLoaderComponent} from './svg-loader.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ObjLoaderComponent,\r\n    ObjectLoaderComponent,\r\n    SVGLoaderComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    ObjLoaderComponent,\r\n    ObjectLoaderComponent,\r\n    SVGLoaderComponent\r\n  ]\r\n})\r\nexport class AtftLoaderModule {\r\n}\r\n","import {Input, OnChanges, SimpleChanges} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {appliedMaterial} from '../../util';\r\n\r\nexport abstract class AbstractMesh extends AbstractObject3D<THREE.Mesh> implements OnChanges {\r\n\r\n  @Input()\r\n  material: string;\r\n\r\n  @Input()\r\n  materialColor = 0x5DADE2;\r\n\r\n  @Input()\r\n  castShadow = true;\r\n\r\n  @Input()\r\n  receiveShadow = true;\r\n\r\n  @Input()\r\n  depthWrite = true;\r\n\r\n  protected getMaterial(): THREE.Material {\r\n    return appliedMaterial(this.materialColor, this.material, this.depthWrite);\r\n  }\r\n\r\n  protected applyShadowProps(mesh: THREE.Mesh) {\r\n    mesh.castShadow = this.castShadow;\r\n    mesh.receiveShadow = this.receiveShadow;\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges) {\r\n    super.ngOnChanges(changes);\r\n    if (!this.getObject()) {\r\n      return;\r\n    }\r\n\r\n    let mustRerender = false;\r\n    if (['material', 'materialColor', 'depthWrite'].some(propName => propName in changes)) {\r\n      this.applyMaterial();\r\n      mustRerender = true;\r\n    }\r\n\r\n    if (mustRerender) {\r\n      this.rendererService.render();\r\n    }\r\n  }\r\n\r\n  public applyMaterial() {\r\n    this.getObject().material = this.getMaterial();\r\n  }\r\n\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractMesh} from './abstract-mesh-3d';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-box-mesh',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => BoxMeshComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class BoxMeshComponent extends AbstractMesh {\r\n\r\n  /**\r\n   * Width; that is, the length of the edges parallel to the X axis. Optional; defaults to 1.\r\n   */\r\n  @Input()\r\n  width = 1.0;\r\n\r\n  /**\r\n   * Height; that is, the length of the edges parallel to the Y axis. Optional; defaults to 1.\r\n   */\r\n  @Input()\r\n  height = 1.0;\r\n\r\n  /**\r\n   * Depth; that is, the length of the edges parallel to the Z axis. Optional; defaults to 1.\r\n   */\r\n  @Input()\r\n  depth = 1.0;\r\n\r\n  /**\r\n   * Number of segmented rectangular faces along the width of the sides. Optional; defaults to 1.\r\n   */\r\n  @Input()\r\n  widthSegments = 1;\r\n\r\n  /**\r\n   * Number of segmented rectangular faces along the height of the sides. Optional; defaults to 1.\r\n   */\r\n  @Input()\r\n  heightSegments = 1;\r\n\r\n  /**\r\n   * Number of segmented rectangular faces along the depth of the sides. Optional; defaults to 1.\r\n   */\r\n  @Input()\r\n  depthSegments = 1;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected newObject3DInstance() {\r\n    // console.log('BoxMeshComponent.newObject3DInstance');\r\n    const geometry = new THREE.BoxGeometry(this.width, this.height, this.depth,\r\n      this.widthSegments, this.heightSegments, this.depthSegments);\r\n    const material = this.getMaterial();\r\n    const mesh = new THREE.Mesh(geometry, material);\r\n    this.applyShadowProps(mesh);\r\n    return mesh;\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractMesh} from './abstract-mesh-3d';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-cylinder-mesh',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => CylinderMeshComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class CylinderMeshComponent extends AbstractMesh {\r\n\r\n  @Input()\r\n  radiusTop = 1.0;\r\n  @Input()\r\n  radiusBottom = 1.0;\r\n  @Input()\r\n  height = 1.0;\r\n  @Input()\r\n  radialSegments = 8;\r\n  @Input()\r\n  heightSegments = 1;\r\n  @Input()\r\n  openEnded = false;\r\n  @Input()\r\n  thetaStart = 0.0;\r\n  @Input()\r\n  thetaLength = 2 * Math.PI;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n    // console.log('CylinderMeshComponent.constructor');\r\n  }\r\n\r\n  protected newObject3DInstance(): THREE.Mesh {\r\n    // console.log('CylinderMeshComponent.newObject3DInstance');\r\n    const geometry = new THREE.CylinderGeometry(this.radiusTop, this.radiusBottom, this.height, this.radialSegments, this.heightSegments,\r\n      this.openEnded, this.thetaStart, this.thetaLength);\r\n    const material = this.getMaterial();\r\n    const mesh = new THREE.Mesh(geometry, material);\r\n    this.applyShadowProps(mesh);\r\n    return mesh;\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractMesh} from './abstract-mesh-3d';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-frame-mesh',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => FrameMeshComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class FrameMeshComponent extends AbstractMesh {\r\n\r\n  @Input()\r\n  thickness = 2;\r\n\r\n  @Input()\r\n  sizeX = 20;\r\n\r\n  @Input()\r\n  sizeY = 20;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected newObject3DInstance(): THREE.Mesh {\r\n\r\n    const halfX = this.sizeX / 2.0;\r\n    const halfY = this.sizeY / 2.0;\r\n    const t = this.thickness;\r\n\r\n    const shape = new THREE.Shape();\r\n\r\n    shape.moveTo(-halfX, halfY);\r\n    shape.lineTo(-halfX - t, halfY + t);\r\n    shape.lineTo(halfX + t, halfY + t);\r\n    shape.lineTo(halfX + t, -halfY - t);\r\n    shape.lineTo(-halfX - t, -halfY - t);\r\n    shape.lineTo(-halfX - t, halfY + t);\r\n\r\n    shape.lineTo(-halfX, halfY);\r\n    shape.lineTo(-halfX, -halfY);\r\n    shape.lineTo(halfX, -halfY);\r\n    shape.lineTo(halfX, halfY);\r\n    shape.lineTo(-halfX, halfY);\r\n\r\n    const geometry = new THREE.ShapeBufferGeometry(shape);\r\n    const material = this.getMaterial();\r\n    const mesh = new THREE.Mesh(geometry, material);\r\n\r\n    this.applyShadowProps(mesh);\r\n    return mesh;\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractMesh} from './abstract-mesh-3d';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {appliedColor} from '../../util/applied-color';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-plane-mesh',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => PlaneMeshComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class PlaneMeshComponent extends AbstractMesh {\r\n\r\n  /**\r\n   * Width; that is, the length of the edges parallel to the X axis. Optional; defaults to 1.\r\n   */\r\n  @Input()\r\n  width = 1.0;\r\n\r\n  /**\r\n   * Height; that is, the length of the edges parallel to the Y axis. Optional; defaults to 1.\r\n   */\r\n  @Input()\r\n  height = 1.0;\r\n\r\n  /**\r\n   * Number of segmented rectangular faces along the width of the sides. Optional; defaults to 1.\r\n   */\r\n  @Input()\r\n  widthSegments = 1;\r\n\r\n  /**\r\n   * Number of segmented rectangular faces along the height of the sides. Optional; defaults to 1.\r\n   */\r\n  @Input()\r\n  heightSegments = 1;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected newObject3DInstance(): THREE.Mesh {\r\n    const geometry = new THREE.PlaneBufferGeometry(this.width, this.height, this.widthSegments, this.heightSegments);\r\n    const material = this.getMaterial();\r\n    const mesh = new THREE.Mesh(geometry, material);\r\n    this.applyShadowProps(mesh);\r\n    return mesh;\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractMesh} from './abstract-mesh-3d';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-sphere-mesh',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => SphereMeshComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class SphereMeshComponent extends AbstractMesh {\r\n\r\n  @Input() radius: number;\r\n  @Input() widthSegments: number;\r\n  @Input() hightSegments: number;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected newObject3DInstance(): THREE.Mesh {\r\n    // console.log('SphereMeshComponent.newObject3DInstance');\r\n    const geometry = new THREE.SphereGeometry(this.radius, this.widthSegments, this.hightSegments);\r\n    const material = this.getMaterial();\r\n    const mesh = new THREE.Mesh(geometry, material);\r\n    this.applyShadowProps(mesh);\r\n    return mesh;\r\n  }\r\n\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractMesh} from './abstract-mesh-3d';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-torus-mesh',\r\n  providers: [{ provide: AbstractObject3D, useExisting: forwardRef(() => TorusMeshComponent) }],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class TorusMeshComponent extends AbstractMesh {\r\n\r\n  /**\r\n   * Radius of the torus, from the center of the torus to the center of the tube\r\n   */\r\n  @Input() radius = 0.4;\r\n\r\n  /**\r\n   * Radius of the tube.\r\n   */\r\n  @Input()\r\n  tube: number;\r\n\r\n  @Input()\r\n  radialSegments = 8;\r\n\r\n  @Input()\r\n  tubularSegments = 6;\r\n\r\n  @Input()\r\n  arc: number = Math.PI * 2;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected newObject3DInstance(): THREE.Mesh {\r\n    this.radius *= 1;\r\n    this.tube *= 1;\r\n    this.radialSegments *= 1;\r\n    this.tubularSegments *= 1;\r\n\r\n    const geometry = new THREE.TorusGeometry(this.radius, this.tube,\r\n      this.radialSegments, this.tubularSegments);\r\n    const material = this.getMaterial();\r\n    const mesh = new THREE.Mesh(geometry, material);\r\n    this.applyShadowProps(mesh);\r\n    return mesh;\r\n  }\r\n\r\n}\r\n","import {Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractMesh} from './abstract-mesh-3d';\r\nimport {calculateSize} from '../../util';\r\nimport {CSS3DObject} from 'three/examples/jsm/renderers/CSS3DRenderer';\r\n\r\nexport abstract class AbstractCss3dMesh extends AbstractMesh {\r\n\r\n  @Input() width = 1.0;\r\n  @Input() height = 1.0;\r\n\r\n  // 1280 / 720 = 1.777777778\r\n  @Input() resolutionX = 1280;\r\n  @Input() resolutionY = 720;\r\n\r\n  private widthSegments = 1;\r\n  private heightSegments = 1;\r\n\r\n  protected newObject3DInstance(): THREE.Mesh {\r\n    const geometry = new THREE.PlaneBufferGeometry(this.width, this.height, this.widthSegments, this.heightSegments);\r\n    const material = this.getMaterial();\r\n    const mesh = new THREE.Mesh(geometry, material);\r\n    this.applyShadowProps(mesh);\r\n\r\n    // Create and scale css3d object:\r\n    const meshSize = calculateSize(mesh);\r\n    const css3dObject = this.createCss3dObject();\r\n    this.scaleCss3d(css3dObject, meshSize);\r\n\r\n    // append to mesh:\r\n    mesh.add(css3dObject);\r\n    return mesh;\r\n  }\r\n\r\n\r\n  protected scaleCss3d(group: CSS3DObject, max: THREE.Vector3) {\r\n    const box = new THREE.Vector3(this.resolutionX, this.resolutionY, 0);\r\n\r\n    const scaleX = max.x / box.x;\r\n    const scaleY = max.y / box.y;\r\n    const scaleZ = max.z / box.z;\r\n\r\n    group.scale.set(\r\n      (scaleX < 1 ? scaleX : 1),\r\n      (scaleY < 1 ? scaleY : 1),\r\n      (scaleZ < 1 ? scaleZ : 1)\r\n    );\r\n\r\n  }\r\n\r\n  protected getMaterial(): THREE.Material {\r\n    // TODO: Renderer clear color\r\n    const transparentMaterial = new THREE.MeshBasicMaterial({\r\n      color: 0x000000,\r\n      opacity: 0,\r\n      side: THREE.DoubleSide\r\n    });\r\n    return transparentMaterial;\r\n  }\r\n\r\n  protected abstract createCss3dObject(): CSS3DObject;\r\n\r\n}\r\n","import {AfterViewInit, Component, forwardRef, Input} from '@angular/core';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {CSS3DObject} from 'three/examples/jsm/renderers/CSS3DRenderer';\r\nimport {AbstractCss3dMesh} from './abstract-css3d-mesh';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-css3d-video-mesh',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => Css3dVideoMeshComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class Css3dVideoMeshComponent extends AbstractCss3dMesh implements AfterViewInit {\r\n\r\n  @Input()\r\n  videoSrc;\r\n\r\n  video = document.createElement('video');\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  protected createCss3dObject(): CSS3DObject {\r\n    // 1. Create DIV\r\n    const div = document.createElement('div');\r\n    div.style.width = this.resolutionX + 'px';\r\n    div.style.height = this.resolutionY + 'px';\r\n    div.style.backgroundColor = '#000000';\r\n    div.id = 'myWrapper';\r\n\r\n    // 2. Create Video Player with source\r\n    this.video.autoplay = false;\r\n    this.video.loop = true;\r\n    this.video.muted = true;\r\n    const source = document.createElement('source');\r\n    source.src = this.videoSrc;\r\n    source.type = 'video/mp4';\r\n    this.video.appendChild(source);\r\n    div.appendChild(this.video);\r\n\r\n    // 3. Create CSS3DObject\r\n    const object = new CSS3DObject(div);\r\n    return object;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    super.ngAfterViewInit();\r\n    this.video.load();\r\n    this.video.addEventListener('canplay', () => {\r\n      console.log('EVENT');\r\n      this.video.play();\r\n    });\r\n\r\n\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {BoxMeshComponent} from './box-mesh.component';\r\nimport {CylinderMeshComponent} from './cylinder-mesh.component';\r\nimport {FrameMeshComponent} from './frame-mesh.component';\r\nimport {PlaneMeshComponent} from './plane-mesh.component';\r\nimport {SphereMeshComponent} from './sphere-mesh.component';\r\nimport {TorusMeshComponent} from './torus-mesh.component';\r\nimport {Css3dVideoMeshComponent} from './css3d-video-mesh.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BoxMeshComponent,\r\n    CylinderMeshComponent,\r\n    FrameMeshComponent,\r\n    PlaneMeshComponent,\r\n    SphereMeshComponent,\r\n    TorusMeshComponent,\r\n    Css3dVideoMeshComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    BoxMeshComponent,\r\n    CylinderMeshComponent,\r\n    FrameMeshComponent,\r\n    PlaneMeshComponent,\r\n    SphereMeshComponent,\r\n    TorusMeshComponent,\r\n    Css3dVideoMeshComponent\r\n  ]\r\n})\r\nexport class AtftMeshModule {\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from '../abstract-object-3d';\r\nimport {AbstractLazyObject3D} from '../abstract-lazy-object-3d';\r\nimport {appliedMaterial} from '../../util';\r\nimport {fixCenter} from '../../util/fix-center';\r\nimport {RendererService} from '../../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-text-mesh',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => TextMeshComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class TextMeshComponent extends AbstractLazyObject3D {\r\n\r\n  @Input()\r\n  material = 'basic';\r\n\r\n\r\n  private _materialColor = 0xDADADA;\r\n  @Input()\r\n  set materialColor(materialColor: number) {\r\n    // console.log('change color', materialColor);\r\n    this._materialColor = materialColor;\r\n    this.startLoading();\r\n  }\r\n  get materialColor() {\r\n    return this._materialColor;\r\n  }\r\n\r\n  private _text = 'Text';\r\n  @Input()\r\n  set text(text: string) {\r\n    this._text = text;\r\n    this.startLoading();\r\n  }\r\n  get text() {\r\n    return this._text;\r\n  }\r\n\r\n\r\n  @Input()\r\n  size = 10;\r\n\r\n  @Input()\r\n  height = 0.3;\r\n\r\n  @Input()\r\n  curveSegments = 2;\r\n\r\n  @Input()\r\n  bevelEnabled = false;\r\n\r\n  @Input()\r\n  bevelThickness = 0.1;\r\n\r\n  @Input()\r\n  bevelSize = 0.1;\r\n\r\n  @Input()\r\n  bevelOffset = 0;\r\n\r\n  @Input()\r\n  bevelSegments = 1;\r\n\r\n  @Input()\r\n  fontUrl = './assets/font/helvetiker_regular.typeface.json';\r\n\r\n  @Input()\r\n  castShadow = true;\r\n\r\n  @Input()\r\n  receiveShadow = true;\r\n\r\n  @Input()\r\n  depthWrite = true;\r\n\r\n  @Input()\r\n  centered = true;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n  }\r\n\r\n  public getMaterial(): THREE.Material {\r\n    return appliedMaterial(this.materialColor, this.material, this.depthWrite);\r\n  }\r\n\r\n  protected async loadLazyObject(): Promise<THREE.Object3D> {\r\n    // console.log('TextMeshComponent.loadLazyObject');\r\n\r\n    return new Promise<THREE.Object3D>(resolve => {\r\n      const loader = new THREE.FontLoader();\r\n      loader.load(this.fontUrl, font => {\r\n\r\n        const geometry = new THREE.TextGeometry(this.text, {\r\n          font: font,\r\n          size: this.size,\r\n          height: this.height,\r\n          curveSegments: this.curveSegments,\r\n          bevelEnabled: this.bevelEnabled,\r\n          bevelThickness: this.bevelThickness,\r\n          bevelSize: this.bevelSize,\r\n          bevelOffset: this.bevelOffset,\r\n          bevelSegments: this.bevelOffset\r\n        });\r\n        const material = this.getMaterial();\r\n        const mesh = new THREE.Mesh(geometry, material);\r\n        mesh.castShadow = this.castShadow;\r\n        mesh.receiveShadow = this.receiveShadow;\r\n\r\n        if (this.centered) {\r\n          fixCenter(mesh);\r\n        }\r\n        resolve(mesh);\r\n      });\r\n    });\r\n\r\n\r\n  }\r\n\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {TextMeshComponent} from './text-mesh.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TextMeshComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    TextMeshComponent\r\n  ]\r\n})\r\nexport class AtftTextModule {\r\n}\r\n","import {Component, forwardRef, Input} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {AbstractObject3D} from './abstract-object-3d';\r\nimport {appliedColor} from '../util/applied-color';\r\nimport {RendererService} from '../renderer/renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-scene',\r\n  providers: [{provide: AbstractObject3D, useExisting: forwardRef(() => SceneComponent)}],\r\n  template: '<ng-content></ng-content>'\r\n})\r\nexport class SceneComponent extends AbstractObject3D<THREE.Scene> {\r\n\r\n  @Input() background = 0xffffff;\r\n  @Input() fog = false;\r\n  @Input() fogColor = 0xa0a0a0;\r\n  @Input() fogNear = 10;\r\n  @Input() fogFar = 500;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService\r\n  ) {\r\n    super(rendererService);\r\n    // TODO: directive?\r\n    rendererService.setScene(this);\r\n  }\r\n\r\n  protected newObject3DInstance(): THREE.Scene {\r\n    const scene = new THREE.Scene();\r\n    scene.background = new THREE.Color(appliedColor(this.background));\r\n    if (this.fog === true) {\r\n      scene.fog = new THREE.Fog(appliedColor(this.fogColor), this.fogNear, this.fogFar);\r\n    }\r\n    return scene;\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {AtftConnectorModule} from './connector/atft-connector.module';\r\nimport {AtftHelperModule} from './helper/atft-helper.module';\r\nimport {AtftLightModule} from './light/atft-light.module';\r\nimport {AtftLoaderModule} from './loader/atft-loader.module';\r\nimport {AtftMeshModule} from './mesh/atft-mesh.module';\r\nimport {AtftTextModule} from './text/atft-text.module';\r\nimport {CommonModule} from '@angular/common';\r\nimport {SceneComponent} from './scene.component';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    AtftConnectorModule,\r\n    AtftHelperModule,\r\n    AtftLightModule,\r\n    AtftLoaderModule,\r\n    AtftMeshModule,\r\n    AtftTextModule\r\n  ],\r\n  declarations: [\r\n    SceneComponent\r\n  ],\r\n  exports: [\r\n    SceneComponent,\r\n    CommonModule,\r\n    AtftConnectorModule,\r\n    AtftHelperModule,\r\n    AtftLightModule,\r\n    AtftLoaderModule,\r\n    AtftMeshModule,\r\n    AtftTextModule\r\n  ]\r\n})\r\nexport class AtftObjectModule {\r\n}\r\n","import {Injectable, OnDestroy} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {Intersection} from 'three';\r\nimport {AbstractCamera} from '../camera/abstract-camera';\r\nimport {AbstractObject3D} from '../object/abstract-object-3d';\r\n\r\n@Injectable()\r\nexport class RaycasterService implements OnDestroy {\r\n\r\n  private raycaster = new THREE.Raycaster();\r\n  private selected: THREE.Object3D;\r\n  private enabled = false;\r\n  private camera: AbstractCamera<any>;\r\n  private groups: Array<AbstractObject3D<any>> = [];\r\n  private paused = false;\r\n\r\n\r\n  constructor() {\r\n    this.onMouseMove = this.onMouseMove.bind(this);\r\n    this.onMouseDown = this.onMouseDown.bind(this);\r\n    this.onTouchStart = this.onTouchStart.bind(this);\r\n    this.subscribe();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.disable();\r\n    this.unsubscribe();\r\n  }\r\n\r\n  private subscribe() {\r\n    window.addEventListener('mousemove', this.onMouseMove);\r\n    window.addEventListener('mousedown', this.onMouseDown);\r\n    window.addEventListener('touchstart', this.onTouchStart);\r\n  }\r\n\r\n  private unsubscribe() {\r\n    // console.log('unsubscribe raycaster');\r\n    window.removeEventListener('mousemove', this.onMouseMove);\r\n    window.removeEventListener('mousedown', this.onMouseDown);\r\n    window.removeEventListener('touchstart', this.onTouchStart);\r\n  }\r\n\r\n  public enable() {\r\n    this.enabled = true;\r\n  }\r\n\r\n  public disable() {\r\n    this.enabled = false;\r\n  }\r\n\r\n  public pause() {\r\n    this.paused = true;\r\n  }\r\n\r\n  public resume() {\r\n    this.paused = false;\r\n  }\r\n\r\n\r\n  get isEnabled() {\r\n    return this.enabled;\r\n  }\r\n\r\n  public setCamera(camera: AbstractCamera<any>) {\r\n    // console.log('Add camera to raycaster', camera);\r\n    this.camera = camera;\r\n  }\r\n\r\n  public addGroup(group: AbstractObject3D<any>) {\r\n    // console.log('RaycasterService.addGroup', group.name, group);\r\n    this.groups.push(group);\r\n  }\r\n\r\n  private onMouseMove(event) {\r\n    if (!this.isReady()) {\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    const i = this.getFirstIntersectedGroup(event.layerX, event.layerY);\r\n    if (!this.selected || this.selected !== i) {\r\n      if (this.selected) {\r\n        this.selected.dispatchEvent({type: 'mouseExit'});\r\n        this.selected = null;\r\n      }\r\n      if (i) {\r\n        this.selected = i;\r\n        // console.log('RaycasterService.mouseEnter', i);\r\n        this.selected.dispatchEvent({type: 'mouseEnter'});\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  private onMouseDown(event) {\r\n    if (!this.isReady(true)) {\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    const i = this.getFirstIntersectedGroup(event.layerX, event.layerY);\r\n    if (i) {\r\n      i.dispatchEvent({type: 'mouseDown'});\r\n    }\r\n  }\r\n\r\n\r\n  private onTouchStart(event: TouchEvent) {\r\n    // console.log(event);\r\n    if (!this.isReady()) {\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    const i = this.getFirstIntersectedGroup(event.touches[0].clientX, event.touches[0].clientY);\r\n    if (i) {\r\n      i.dispatchEvent({type: 'mouseDown'});\r\n    }\r\n  }\r\n\r\n  private isReady(ignorePaused?: boolean) {\r\n    return this.enabled\r\n      && (ignorePaused || !this.paused)\r\n      && this.camera\r\n      && this.camera.camera\r\n      && this.groups\r\n      && this.groups.length > 0;\r\n  }\r\n\r\n  private getFirstIntersectedGroup(x, y): THREE.Object3D {\r\n    x = (x / window.innerWidth) * 2 - 1;\r\n    y = -(y / window.innerHeight) * 2 + 1;\r\n    const mouseVector = new THREE.Vector3(x, y, 0.5);\r\n    this.raycaster.setFromCamera(mouseVector, this.camera.camera);\r\n\r\n    // loop across all groups. Try to find the group with nearest distance.\r\n    let nearestIntersection: Intersection;\r\n    let nearestGroup: THREE.Object3D;\r\n    for (let k = 0; k < this.groups.length; k++) {\r\n      const i = this.groups[k].getObject();\r\n      const intersection = this.raycaster.intersectObject(i, true);\r\n      if (intersection.length > 0 && (!nearestIntersection || nearestIntersection.distance > intersection[0].distance)) {\r\n        nearestIntersection = intersection[0];\r\n        nearestGroup = i;\r\n      }\r\n    }\r\n\r\n    // return the group with nearest distance\r\n    if (nearestGroup) {\r\n      return nearestGroup;\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n}\r\n","import {AfterViewInit, Component, ElementRef, HostListener, ViewChild} from '@angular/core';\r\nimport {RendererService} from './renderer.service';\r\n\r\n@Component({\r\n  selector: 'atft-renderer-canvas',\r\n  templateUrl: './renderer-canvas.component.html',\r\n  styleUrls: ['./renderer-canvas.component.scss']\r\n})\r\nexport class RendererCanvasComponent implements AfterViewInit {\r\n\r\n  @ViewChild('canvas', {static: true})\r\n  private canvasRef: ElementRef;\r\n\r\n  constructor(\r\n    private rendererService: RendererService\r\n  ) {\r\n    // console.log('RendererComponent.constructor');\r\n    this.onResize = this.onResize.bind(this);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // console.log('RendererComponent.ngAfterViewInit');\r\n    this.rendererService.initialize(this.canvas);\r\n  }\r\n\r\n  /**\r\n   * The render pane on which the scene is rendered.\r\n   * Currently, only the WebGL renderer with a canvas is used in this\r\n   * implementation, so this property will always be an ElementRef to the\r\n   * underlying <canvas> element.\r\n   *\r\n   * @example This property can be used to restrict the orbit control (i.e. the\r\n   * area which is listened for mouse move and zoom events) to the rendering pane\r\n   */\r\n  public get renderPane(): ElementRef {\r\n    return this.canvasRef;\r\n  }\r\n\r\n  private get canvas(): HTMLCanvasElement {\r\n    return this.canvasRef.nativeElement;\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  public onResize(event: Event) {\r\n    // strange, but single 100% resizing has unexpected behaviour with flex CSS\r\n    // as workaround - resettling to 100 pixels, then to 100%\r\n    this.rendererService.resize(this.canvas, '100px');\r\n    this.rendererService.resize(this.canvas, '100%');\r\n  }\r\n\r\n}\r\n","import {AfterViewInit, ContentChild, ContentChildren, ElementRef, OnChanges, OnDestroy, QueryList, SimpleChanges} from '@angular/core';\r\nimport * as THREE from 'three';\r\nimport {OrbitControls} from 'three/examples/jsm/controls/OrbitControls';\r\nimport {AbstractCamera} from '../camera/abstract-camera';\r\nimport {RendererService} from '../renderer/renderer.service';\r\nimport {RaycasterService} from '../raycaster/raycaster.service';\r\nimport {RendererCanvasComponent} from '../renderer/renderer-canvas.component';\r\n\r\n\r\nexport abstract class AbstractOrbitControls<T extends OrbitControls> implements AfterViewInit, OnChanges, OnDestroy {\r\n\r\n  @ContentChildren(AbstractCamera, {descendants: true}) childCameras: QueryList<AbstractCamera<THREE.Camera>>;\r\n  @ContentChild(RendererCanvasComponent, {static: false}) webGlRenderer: RendererCanvasComponent;\r\n  /**\r\n   * The element on whose native element the orbit control will listen for mouse events.\r\n   *\r\n   * Note that keyboard events are still listened for on the global window object, this is\r\n   * a known issue from Three.js: https://github.com/mrdoob/three.js/pull/10315\r\n   */\r\n  protected listeningControlElement: ElementRef;\r\n\r\n  protected controls: T;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService,\r\n    protected raycasterService: RaycasterService\r\n  ) {\r\n    // console.log('OrbitControlsComponent.constructor');\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    // If the THREE.js OrbitControls are not set up yet, we do not need to update\r\n    // anything as they will pick the new values from the @Input properties automatically\r\n    // upon creation.\r\n    if (!this.controls) {\r\n      return;\r\n    }\r\n\r\n    if (changes['listeningControlElement']) {\r\n      // The DOM element the OrbitControls listen on cannot be changed once an\r\n      // OrbitControls object is created. We thus need to recreate it.\r\n      this.controls.dispose();\r\n      this.setUpControls();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.controls) {\r\n      this.controls.dispose();\r\n    }\r\n  }\r\n\r\n  protected abstract setUpControls();\r\n\r\n\r\n  private configureListeners() {\r\n    this.controls.addEventListener('change', () => {\r\n      this.rendererService.render();\r\n    });\r\n\r\n    // don't raycast during rotation/damping/panning\r\n    if (this.raycasterService.isEnabled) {\r\n      this.controls.addEventListener('start', () => {\r\n        this.raycasterService.pause();\r\n      });\r\n      this.controls.addEventListener('end', () => {\r\n        this.raycasterService.resume();\r\n      });\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    // console.log('OrbitControlsComponent.ngAfterViewInit');\r\n    if (this.childCameras === undefined || this.childCameras.first === undefined) {\r\n      throw new Error('Camera is not found');\r\n    }\r\n    if (!this.webGlRenderer) {\r\n      throw new Error('webGlRenderer is not found');\r\n    }\r\n    this.listeningControlElement = this.webGlRenderer.renderPane;\r\n    this.setUpControls();\r\n    this.configureListeners();\r\n    this.rendererService.render();\r\n  }\r\n\r\n}\r\n","import {Component, Input, OnChanges, SimpleChanges} from '@angular/core';\r\nimport {OrbitControls} from 'three/examples/jsm/controls/OrbitControls';\r\nimport {RendererService} from '../renderer/renderer.service';\r\nimport {RaycasterService} from '../raycaster/raycaster.service';\r\nimport {AbstractOrbitControls} from './abstract-orbit-controls';\r\n\r\n@Component({\r\n  selector: 'atft-orbit-controls',\r\n  template: `\r\n      <ng-content></ng-content>`,\r\n  styleUrls: ['controls.component.scss']\r\n})\r\nexport class OrbitControlsComponent extends AbstractOrbitControls<OrbitControls> implements OnChanges {\r\n\r\n  @Input() rotateSpeed = 1.0;\r\n  @Input() zoomSpeed = 1.2;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService,\r\n    protected raycasterService: RaycasterService\r\n  ) {\r\n    super(rendererService, raycasterService);\r\n  }\r\n\r\n  protected setUpControls() {\r\n    this.controls = new OrbitControls(\r\n      this.childCameras.first.camera,\r\n      this.listeningControlElement && this.listeningControlElement.nativeElement\r\n    );\r\n    this.controls.rotateSpeed = this.rotateSpeed;\r\n    this.controls.zoomSpeed = this.zoomSpeed;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (!this.controls) {\r\n      return;\r\n    }\r\n    super.ngOnChanges(changes);\r\n\r\n    if (changes['rotateSpeed']) {\r\n      this.controls.rotateSpeed = this.rotateSpeed;\r\n    }\r\n    if (changes['zoomSpeed']) {\r\n      this.controls.zoomSpeed = this.zoomSpeed;\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import {Component, Input, OnChanges, SimpleChanges} from '@angular/core';\r\nimport {MapControls, OrbitControls} from 'three/examples/jsm/controls/OrbitControls';\r\nimport {RendererService} from '../renderer/renderer.service';\r\nimport {AnimationService} from '../animation/animation.service';\r\nimport {RaycasterService} from '../raycaster/raycaster.service';\r\nimport {AbstractOrbitControls} from './abstract-orbit-controls';\r\n\r\n@Component({\r\n  selector: 'atft-map-controls',\r\n  template: `\r\n      <ng-content></ng-content>`,\r\n  styleUrls: ['controls.component.scss']\r\n})\r\nexport class MapControlsComponent extends AbstractOrbitControls<OrbitControls> implements OnChanges {\r\n\r\n  @Input() rotateSpeed = 1.0;\r\n\r\n  @Input() zoomSpeed = 1.2;\r\n\r\n  @Input() autoRotate = false;\r\n\r\n  @Input() autoRotateSpeed = 0.5;\r\n\r\n  @Input() enableDamping = false;\r\n\r\n  @Input() dampingFactor = 0.1;\r\n\r\n  @Input() screenSpacePanning = false;\r\n\r\n  @Input() minDistance = 20;\r\n\r\n  @Input() maxDistance = 200;\r\n\r\n  @Input() maxPolarAngle: number = Math.PI / 2 - 0.1;\r\n\r\n  @Input() panSpeed = 1.2;\r\n\r\n  constructor(\r\n    protected rendererService: RendererService,\r\n    protected raycasterService: RaycasterService,\r\n    protected animationService: AnimationService\r\n  ) {\r\n    super(rendererService, raycasterService);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (!this.controls) {\r\n      return;\r\n    }\r\n    super.ngOnChanges(changes);\r\n\r\n    if (changes['rotateSpeed']) {\r\n      this.controls.rotateSpeed = this.rotateSpeed;\r\n    }\r\n    if (changes['zoomSpeed']) {\r\n      this.controls.zoomSpeed = this.zoomSpeed;\r\n    }\r\n    // TODO: add others\r\n  }\r\n\r\n  protected setUpControls() {\r\n    this.controls = new MapControls(\r\n      this.childCameras.first.camera,\r\n      this.listeningControlElement && this.listeningControlElement.nativeElement\r\n    );\r\n    this.controls.rotateSpeed = this.rotateSpeed;\r\n    this.controls.zoomSpeed = this.zoomSpeed;\r\n\r\n    this.controls.panSpeed = this.panSpeed;\r\n\r\n    this.controls.autoRotate = this.autoRotate;\r\n    this.controls.autoRotateSpeed = this.autoRotateSpeed;\r\n    this.controls.enableDamping = this.enableDamping; // an animation loop is required when either damping or auto-rotation are enabled\r\n    this.controls.dampingFactor = this.dampingFactor;\r\n\r\n    this.controls.screenSpacePanning = this.screenSpacePanning;\r\n    this.controls.minDistance = this.minDistance;\r\n    this.controls.maxDistance = this.maxDistance;\r\n    this.controls.maxPolarAngle = this.maxPolarAngle;\r\n\r\n    this.controls.update();\r\n\r\n    // Advanced animation:\r\n    if (this.autoRotate || this.enableDamping) {\r\n      this.animationService.animate.subscribe(() => {\r\n        this.controls.update();\r\n      });\r\n      this.controls.addEventListener('change', () => {\r\n        this.rendererService.render();\r\n      });\r\n      this.animationService.start();\r\n    }\r\n\r\n    this.rendererService.render();\r\n  }\r\n\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {OrbitControlsComponent} from './orbit-controls.component';\r\nimport {MapControlsComponent} from './map-controls.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    OrbitControlsComponent,\r\n    MapControlsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    OrbitControlsComponent,\r\n    MapControlsComponent\r\n  ]\r\n})\r\nexport class AtftControlModule {\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'deg2rad'\r\n})\r\nexport class Deg2RadPipe implements PipeTransform {\r\n\r\n  /**\r\n   * Converts degrees to radians\r\n   * @param degree Degrees\r\n   */\r\n  transform(degrees: number): number {\r\n    return (degrees / 180) * Math.PI;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'rad2deg'\r\n})\r\nexport class Rad2DegPipe implements PipeTransform {\r\n\r\n  /**\r\n   * Converts radians to degrees\r\n   * @param radians Radians\r\n   */\r\n  transform(radians: number): number {\r\n    return radians * (180 / Math.PI);\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {Deg2RadPipe} from './deg2rad.pipe';\r\nimport {Rad2DegPipe} from './rad2deg.pipe';\r\nimport {CommonModule} from '@angular/common';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    Deg2RadPipe,\r\n    Rad2DegPipe\r\n  ],\r\n  exports: [\r\n    Deg2RadPipe,\r\n    Rad2DegPipe\r\n  ]\r\n})\r\nexport class AtftPipeModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {RendererCanvasComponent} from './renderer-canvas.component';\r\nimport {CommonModule} from '@angular/common';\r\nimport {RendererService} from './renderer.service';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    RendererCanvasComponent\r\n  ],\r\n  providers: [\r\n    RendererService\r\n  ],\r\n  exports: [\r\n    RendererCanvasComponent\r\n  ]\r\n})\r\nexport class AtftRendererModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {AnimationService} from './animation.service';\r\n\r\n\r\n@NgModule({\r\n  providers: [\r\n    AnimationService\r\n  ]\r\n})\r\nexport class AtftAnimationModule {\r\n}\r\n","import {AfterViewInit, Directive, EventEmitter, OnDestroy, Output} from '@angular/core';\r\nimport {AbstractObject3D} from '../object/abstract-object-3d';\r\nimport {RaycasterService} from './raycaster.service';\r\n\r\n/**\r\n * Only components marked as atft-raycaster-group emit raycaster events.\r\n * NOTE: All childs are also considered by raycaster (very usefull, for composite components).\r\n */\r\n@Directive({selector: '[atft-raycaster-group]'})\r\nexport class RaycasterGroupDirective implements AfterViewInit, OnDestroy {\r\n\r\n  @Output() mouseEnter = new EventEmitter<void>();\r\n  @Output() mouseExit = new EventEmitter<void>();\r\n  @Output() mouseDown = new EventEmitter<void>();\r\n\r\n  constructor(\r\n    private host: AbstractObject3D<any>,\r\n    private raycasterService: RaycasterService\r\n  ) {\r\n    this.onMouseEnter = this.onMouseEnter.bind(this);\r\n    this.onMouseExit = this.onMouseExit.bind(this);\r\n    this.onMouseDown = this.onMouseDown.bind(this);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.raycasterService.addGroup(this.host);\r\n    this.subscribeEvents();\r\n  }\r\n\r\n  private subscribeEvents() {\r\n    const obj = this.host.getObject();\r\n    obj.addEventListener('mouseEnter', this.onMouseEnter);\r\n    obj.addEventListener('mouseExit', this.onMouseExit);\r\n    obj.addEventListener('mouseDown', this.onMouseDown);\r\n  }\r\n\r\n  private unSubscribeEvents() {\r\n    const obj = this.host.getObject();\r\n    obj.removeEventListener('mouseEnter', this.onMouseEnter);\r\n    obj.removeEventListener('mouseExit', this.onMouseExit);\r\n    obj.removeEventListener('mouseDown', this.onMouseDown);\r\n  }\r\n\r\n  private onMouseExit() {\r\n    this.mouseExit.emit();\r\n  }\r\n\r\n  private onMouseEnter() {\r\n    this.mouseEnter.emit();\r\n  }\r\n\r\n  private onMouseDown() {\r\n    this.mouseDown.emit();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unSubscribeEvents();\r\n  }\r\n\r\n}\r\n","import {AfterViewInit, Directive} from '@angular/core';\r\nimport {AbstractCamera} from '../camera/abstract-camera';\r\nimport {RaycasterService} from './raycaster.service';\r\n\r\n@Directive({selector: '[atft-raycaster-camera]'})\r\nexport class RaycasterCameraDirective implements AfterViewInit {\r\n\r\n  constructor(\r\n    private host: AbstractCamera<any>,\r\n    private raycasterService: RaycasterService\r\n  ) {\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.raycasterService.setCamera(this.host);\r\n  }\r\n\r\n}\r\n","import {AfterViewInit, Directive} from '@angular/core';\r\nimport {RaycasterService} from './raycaster.service';\r\n\r\n@Directive({selector: '[atft-raycaster-enable]'})\r\nexport class RaycasterEnableDirective implements AfterViewInit {\r\n\r\n  constructor(\r\n    private raycasterService: RaycasterService\r\n  ) {\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.raycasterService.enable();\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {RaycasterGroupDirective} from './raycaster-group.directive';\r\nimport {RaycasterService} from './raycaster.service';\r\nimport {RaycasterCameraDirective} from './raycaster-camera.directive';\r\nimport {RaycasterEnableDirective} from './raycaster-enable.directive';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    RaycasterGroupDirective,\r\n    RaycasterCameraDirective,\r\n    RaycasterEnableDirective\r\n  ],\r\n  providers: [\r\n    RaycasterService\r\n  ],\r\n  exports: [\r\n    RaycasterGroupDirective,\r\n    RaycasterCameraDirective,\r\n    RaycasterEnableDirective\r\n  ]\r\n})\r\nexport class AtftRaycasterModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {AtftCameraModule} from './camera/atft-camera.module';\r\nimport {AtftObjectModule} from './object/atft-object.module';\r\nimport {AtftControlModule} from './control/atft-control.module';\r\nimport {AtftPipeModule} from './pipe/atft-pipe.module';\r\nimport {AtftRendererModule} from './renderer/atft-renderer.module';\r\nimport {AtftAnimationModule} from './animation/atft-animation.module';\r\nimport {AtftRaycasterModule} from './raycaster/atft-raycaster.module';\r\n\r\n// NOTE: In case of \"ERROR in Unexpected value 'undefined' exported by the module 'AtftModule\" fix imports (do not import index.ts)\r\n\r\n@NgModule({\r\n  imports: [\r\n    AtftCameraModule,\r\n    AtftObjectModule,\r\n    AtftControlModule,\r\n    AtftPipeModule,\r\n    AtftRendererModule,\r\n    AtftAnimationModule,\r\n    AtftRaycasterModule\r\n  ],\r\n  exports: [\r\n    AtftCameraModule,\r\n    AtftObjectModule,\r\n    AtftControlModule,\r\n    AtftPipeModule,\r\n    AtftRendererModule,\r\n    AtftAnimationModule,\r\n    AtftRaycasterModule\r\n  ]\r\n})\r\nexport class AtftModule {\r\n}\r\n","import {Injectable} from '@angular/core';\r\n\r\nexport interface StatsResults {\r\n  ms: number;\r\n  count: number;\r\n  callsPerSecond: number;\r\n}\r\n\r\n@Injectable()\r\nexport class StatsService {\r\n\r\n  private lastTime: number;\r\n  private ms = 0;\r\n  private count = 0;\r\n\r\n  start() {\r\n    this.lastTime = Date.now();\r\n  }\r\n\r\n  end() {\r\n    const deltaMs = Date.now() - this.lastTime;\r\n    this.ms += deltaMs;\r\n    this.count++;\r\n  }\r\n\r\n  getStats(): StatsResults {\r\n    return {\r\n      ms: this.ms,\r\n      count: this.count,\r\n      callsPerSecond: Math.round(this.count / (this.ms / 1000))\r\n    };\r\n  }\r\n\r\n  reset() {\r\n    this.ms = 0;\r\n    this.count = 0;\r\n  }\r\n\r\n}\r\n"],"names":["Input","THREE.WebGLRenderer","THREE.PCFSoftShadowMap","CSS3DRenderer","Injectable","tslib_1.__extends","THREE.PerspectiveCamera","Component","forwardRef","NgModule","CommonModule","EventEmitter","ContentChildren","ViewChildren","Output","THREE.Geometry","MeshLine","MeshLineMaterial","THREE.DoubleSide","THREE.NormalBlending","THREE.Mesh","THREE.LineBasicMaterial","THREE.Line","THREE.AxesHelper","THREE.Object3D","THREE.GridHelper","THREE.Color","THREE.MeshLambertMaterial","THREE.MeshBasicMaterial","THREE.MeshPhongMaterial","THREE.Box3","THREE.Vector3","THREE.PointLight","THREE.HemisphereLight","THREE.DirectionalLight","THREE.ObjectLoader","OBJLoader","MTLLoader","SVGLoader","THREE.Group","THREE.ShapeBufferGeometry","THREE.BoxGeometry","THREE.CylinderGeometry","THREE.Shape","THREE.PlaneBufferGeometry","THREE.SphereGeometry","THREE.TorusGeometry","CSS3DObject","THREE.FontLoader","THREE.TextGeometry","THREE.Scene","THREE.Fog","THREE.Raycaster","ViewChild","HostListener","ContentChild","OrbitControls","MapControls","Pipe","Directive"],"mappings":"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"}