!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("three"),require("three/examples/jsm/renderers/CSS3DRenderer"),require("three.meshline"),require("three/examples/jsm/loaders/OBJLoader"),require("three/examples/jsm/loaders/MTLLoader"),require("three/examples/jsm/loaders/SVGLoader"),require("three/examples/jsm/controls/OrbitControls")):"function"==typeof define&&define.amd?define("atft",["exports","@angular/core","@angular/common","three","three/examples/jsm/renderers/CSS3DRenderer","three.meshline","three/examples/jsm/loaders/OBJLoader","three/examples/jsm/loaders/MTLLoader","three/examples/jsm/loaders/SVGLoader","three/examples/jsm/controls/OrbitControls"],t):t((e=e||self).atft={},e.ng.core,e.ng.common,e.three,e.CSS3DRenderer,e.three_meshline,e.OBJLoader,e.MTLLoader,e.SVGLoader,e.OrbitControls)}(this,(function(e,t,n,r,o,i,s,a,c,p){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function h(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function d(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var f=function(){function e(e){this.rendererService=e,this.zAxisUp=!1}return e.prototype.ngAfterViewInit=function(){this.createCamera(),this.applyZAxisUp(),this.applyPosition(),this.rendererService.setCamera(this)},e.prototype.ngOnChanges=function(e){var t=!1;["positionX","positionY","positionZ"].some((function(t){return t in e}))&&(this.applyPosition(),t=!0),t&&this.rendererService.render()},e.prototype.applyPosition=function(){this.camera&&this.camera.position.set(this.positionX||0,this.positionY||0,this.positionZ||0)},e.prototype.applyZAxisUp=function(){this.camera&&this.zAxisUp&&this.camera.up.set(0,0,1)},e.propDecorators={positionX:[{type:t.Input}],positionY:[{type:t.Input}],positionZ:[{type:t.Input}],zAxisUp:[{type:t.Input}]},e}();var m=function(){function e(){this.init=!1}return e.prototype.ngOnDestroy=function(){},e.prototype.setScene=function(e){this.scene=e},e.prototype.setCamera=function(e){this.camera=e,this.camera.updateAspectRatio(this.aspect)},e.prototype.render=function(){this.init&&this.scene&&this.camera&&(this.webGlRenderer.render(this.scene.getObject(),this.camera.camera),this.css3dRenderer.render(this.scene.getObject(),this.camera.camera))},e.prototype.initialize=function(e){this.webGlRenderer=new r.WebGLRenderer({canvas:e,antialias:!0,alpha:!0}),this.webGlRenderer.setPixelRatio(devicePixelRatio),this.webGlRenderer.setSize(e.clientWidth,e.clientHeight,!1),this.webGlRenderer.shadowMap.enabled=!1,this.webGlRenderer.shadowMap.autoUpdate=!1,this.webGlRenderer.shadowMap.type=r.PCFSoftShadowMap,this.webGlRenderer.setClearColor(0,0),this.webGlRenderer.autoClear=!0,e.style.zIndex="2",this.css3dRenderer=new o.CSS3DRenderer,this.css3dRenderer.setSize(window.innerWidth,window.innerHeight),this.css3dRenderer.domElement.style.position="absolute",this.css3dRenderer.domElement.style.top="0",this.css3dRenderer.domElement.style.zIndex="1",e.parentElement.appendChild(this.css3dRenderer.domElement),this.updateChildCamerasAspectRatio(e),this.init=!0,this.render()},e.prototype.resize=function(e,t){e.style.width=t,e.style.height=t;var n=e.clientWidth,r=e.clientHeight;this.webGlRenderer.setSize(n,r,!0),this.css3dRenderer.setSize(n,r),this.updateChildCamerasAspectRatio(e),this.render()},e.prototype.calculateAspectRatio=function(e){if(0===e.clientHeight)return 0;this.aspect=e.clientWidth/e.clientHeight},e.prototype.updateChildCamerasAspectRatio=function(e){this.calculateAspectRatio(e),this.camera&&this.camera.updateAspectRatio(this.aspect)},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}();var y=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n}return h(n,e),n.prototype.createCamera=function(){this.camera=new r.PerspectiveCamera(this.fov,void 0,this.near,this.far)},n.prototype.updateAspectRatio=function(e){this.camera.aspect=e,this.camera.updateProjectionMatrix()},n.decorators=[{type:t.Component,args:[{selector:"atft-perspective-camera",providers:[{provide:f,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={fov:[{type:t.Input}],near:[{type:t.Input}],far:[{type:t.Input}]},n}(f);var g=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[y],imports:[n.CommonModule],exports:[y]}]}],e}(),v=function(){function e(e){var n=this;this.rendererService=e,this.changed=new t.EventEmitter,this.changed.subscribe((function(){n.rendererService.render()}))}return e.prototype.ngOnChanges=function(e){if(this.object){var t=!1;["rotateX","rotateY","rotateZ"].some((function(t){return t in e}))&&(this.applyRotation(),t=!0),["translateX","translateY","translateZ"].some((function(t){return t in e}))&&(this.applyTranslation(),t=!0),t&&this.changed.emit()}},e.prototype.ngOnDestroy=function(){this.object&&this.object.parent&&this.object.parent.remove(this.object)},e.prototype.ngAfterViewInit=function(){this.object=this.newObject3DInstance(),this.applyTranslation(),this.applyRotation(),this.collectChilds(),this.afterInit()},e.prototype.collectChilds=function(){var e=this;void 0!==this.childNodes&&this.childNodes.length>1&&this.childNodes.filter((function(t){return t!==e&&void 0!==t.getObject()})).forEach((function(t){e.addChild(t.getObject())})),void 0!==this.viewChilds&&this.viewChilds.length>0&&this.viewChilds.filter((function(t){return t!==e&&void 0!==t.getObject()&&!t.getObject().parent})).forEach((function(t){e.addChild(t.getObject())}))},e.prototype.applyRotation=function(){this.object.rotation.set(this.rotateX||0,this.rotateY||0,this.rotateZ||0,"XYZ")},e.prototype.applyTranslation=function(){this.object.position.set(this.translateX||0,this.translateY||0,this.translateZ||0)},e.prototype.addChild=function(e){this.object.add(e)},e.prototype.removeChild=function(e){this.object.remove(e)},e.prototype.getObject=function(){return this.object},e.prototype.afterInit=function(){},e.propDecorators={childNodes:[{type:t.ContentChildren,args:[e,{descendants:!1}]}],viewChilds:[{type:t.ViewChildren,args:[e]}],rotateX:[{type:t.Input}],rotateY:[{type:t.Input}],rotateZ:[{type:t.Input}],translateX:[{type:t.Input}],translateY:[{type:t.Input}],translateZ:[{type:t.Input}],name:[{type:t.Input}],changed:[{type:t.Output}]},e}();var b=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return h(n,e),n.prototype.newObject3DInstance=function(){var e=this.createConnectorObject();return this.watchObjects(),e},n.prototype.watchObjects=function(){var e=this;this.source.changed.subscribe((function(t){e.updateLineGeometry()})),this.target.changed.subscribe((function(t){e.updateLineGeometry()}))},n.prototype.getLineGeometry=function(){var e=new r.Geometry;if(!this.source||!this.target)throw new Error("AbstractConnector: source or target inputs are missing!");return e.vertices.push(this.source.getObject().position),e.vertices.push(this.target.getObject().position),e},n.propDecorators={source:[{type:t.Input}],target:[{type:t.Input}]},n}(v);function w(e,t){var n=t||16777215;return void 0!==e&&(n=1*e),n}var S=function(){function e(e){this.rendererService=e,this.animate=new t.EventEmitter,this.enabled=!1,this.animationStep=this.animationStep.bind(this)}return e.prototype.start=function(){this.enabled||(this.enabled=!0,this.animationStep())},e.prototype.stop=function(){this.enabled&&(this.enabled=!1)},e.prototype.animationStep=function(){this.enabled&&(requestAnimationFrame(this.animationStep),this.animate.observers.length>0&&(this.animate.emit(),this.rendererService.render()))},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:m}]},e}();var C=function(e){function n(t,n){var r=e.call(this,n)||this;return r.animationService=t,r.rendererService=n,r.materialColor=16776960,r.transparent=!0,r.opacity=.5,r.lineWidth=.5,r.depthWrite=!0,r.depthTest=!0,r.animated=!1,r.animationIncrement=.002,r}return h(n,e),n.prototype.createConnectorObject=function(){this.geometry=this.getLineGeometry(),this.line=new i.MeshLine,this.line.setGeometry(this.geometry),this.lineMaterial=this.animated?new i.MeshLineMaterial({color:w(this.materialColor),transparent:this.transparent,opacity:this.opacity,lineWidth:this.lineWidth,depthWrite:this.depthWrite,depthTest:this.depthTest,side:r.DoubleSide,blending:r.NormalBlending,dashArray:.05,dashOffset:.1,dashRatio:.1}):new i.MeshLineMaterial({color:w(this.materialColor),transparent:this.transparent,opacity:this.opacity,lineWidth:this.lineWidth,depthWrite:this.depthWrite,depthTest:this.depthTest,side:r.DoubleSide,blending:r.NormalBlending});var e=new r.Mesh(this.line.geometry,this.lineMaterial);return this.animated&&(this.animate=this.animate.bind(this),this.animationService.animate.subscribe(this.animate)),e},n.prototype.animate=function(){this.lineMaterial.uniforms.dashOffset.value+=this.animationIncrement},n.prototype.updateLineGeometry=function(){this.line.setGeometry(this.geometry),this.rendererService.render()},n.decorators=[{type:t.Component,args:[{selector:"atft-mesh-line-connector",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:S},{type:m}]},n.propDecorators={materialColor:[{type:t.Input}],transparent:[{type:t.Input}],opacity:[{type:t.Input}],lineWidth:[{type:t.Input}],depthWrite:[{type:t.Input}],depthTest:[{type:t.Input}],animated:[{type:t.Input}],animationIncrement:[{type:t.Input}]},n}(b);var I=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.materialColor=16776960,n}return h(n,e),n.prototype.createConnectorObject=function(){this.geometry=this.getLineGeometry();var e=new r.LineBasicMaterial({color:w(this.materialColor),linewidth:1});return new r.Line(this.geometry,e)},n.prototype.updateLineGeometry=function(){this.geometry.verticesNeedUpdate=!0,this.rendererService.render()},n.decorators=[{type:t.Component,args:[{selector:"atft-line-connector",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={materialColor:[{type:t.Input}]},n}(b);var M=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[I,C],imports:[n.CommonModule],exports:[I,C]}]}],e}(),x=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n}return h(n,e),n.prototype.newObject3DInstance=function(){return new r.AxesHelper(this.size)},n.decorators=[{type:t.Component,args:[{selector:"atft-axes-helper",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={size:[{type:t.Input}]},n}(v);var E=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n}return h(n,e),n.prototype.newObject3DInstance=function(){return new r.Object3D},n.decorators=[{type:t.Component,args:[{selector:"atft-empty",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n}(v);var D=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n}return h(n,e),n.prototype.newObject3DInstance=function(){return new r.GridHelper(this.size,this.divisions)},n.decorators=[{type:t.Component,args:[{selector:"atft-grid-helper",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={size:[{type:t.Input}],divisions:[{type:t.Input}]},n}(v);var O=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[x,E,D],imports:[n.CommonModule],exports:[x,E,D]}]}],e}();function j(e,t,n){var o={color:e instanceof r.Color?e:w(e),side:r.DoubleSide,depthWrite:void 0===n||n};return"lamb"===t?new r.MeshLambertMaterial(o):"basic"===t?new r.MeshBasicMaterial(o):new r.MeshPhongMaterial(o)}function P(e){var t=(new r.Box3).setFromObject(e);return new r.Vector3(t.max.x-t.min.x,t.max.y-t.min.y,t.max.z-t.min.z)}function R(e){var t=P(e);e.translateX(-t.x/2),e.translateY(-t.y/2),e.translateZ(-t.z/2)}function L(e,t){var n=P(e),r=t.x/n.x,o=t.y/n.y,i=t.z/n.z;e.scale.set(r<1?r:1,o<1?o:1,i<1?i:1)}var z=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.color=16777215,n.intensity=1,n.distance=500,n.castShadow=!1,n}return h(n,e),n.prototype.newObject3DInstance=function(){var e=new r.PointLight(w(this.color),this.intensity,this.distance);return!0===this.castShadow&&(e.castShadow=this.castShadow,e.shadow.mapSize.width=1024,e.shadow.mapSize.height=1024,e.shadow.camera.near=.5,e.shadow.camera.far=500,e.shadow.bias=-.001,e.shadow.radius=1),e},n.decorators=[{type:t.Component,args:[{selector:"atft-point-light",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={color:[{type:t.Input}],intensity:[{type:t.Input}],distance:[{type:t.Input}],castShadow:[{type:t.Input}]},n}(v);var G=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.skyColor=16777215,n.groundColor=4473924,n.intensity=1,n}return h(n,e),n.prototype.newObject3DInstance=function(){return new r.HemisphereLight(w(this.skyColor),w(this.groundColor),w(this.intensity))},n.decorators=[{type:t.Component,args:[{selector:"atft-hemisphere-light",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={skyColor:[{type:t.Input}],groundColor:[{type:t.Input}],intensity:[{type:t.Input}]},n}(v);var T=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.color=16777215,n.intensity=1,n.target=new r.Object3D,n.castShadow=!0,n}return h(n,e),n.prototype.newObject3DInstance=function(){var e=new r.DirectionalLight(w(this.color),this.intensity);return e.target=this.target,!0===this.castShadow&&(e.castShadow=this.castShadow,e.shadow.camera.top=100,e.shadow.camera.bottom=-100,e.shadow.camera.left=-100,e.shadow.camera.right=100,e.shadow.camera.near=.1,e.shadow.camera.far=500,e.shadow.mapSize.set(1024,1024),e.shadow.bias=-.001),e},n.decorators=[{type:t.Component,args:[{selector:"atft-directional-light",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={color:[{type:t.Input}],intensity:[{type:t.Input}],target:[{type:t.Input}],castShadow:[{type:t.Input}]},n}(v);var A=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[T,G,z],imports:[n.CommonModule],exports:[T,G,z]}]}],e}(),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.parentInitialized=!1,t}return h(t,e),t.prototype.afterInit=function(){e.prototype.afterInit.call(this),this.parentInitialized=!0,this.startLoading()},t.prototype.startLoading=function(){var t=this;this.loadLazyObject().then((function(n){t.lazyObject&&e.prototype.removeChild.call(t,t.lazyObject),t.lazyObject=n,e.prototype.addChild.call(t,n),t.rendererService.render()})).catch((function(e){console.error(e)}))},t.prototype.ngOnDestroy=function(){this.lazyObject&&e.prototype.removeChild.call(this,this.lazyObject)},t.prototype.newObject3DInstance=function(){return new r.Object3D},t}(v);var _=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return h(n,e),Object.defineProperty(n.prototype,"model",{get:function(){return this._model},set:function(t){this._model!==t&&(this._model=t,e.prototype.startLoading.call(this))},enumerable:!0,configurable:!0}),n.propDecorators={model:[{type:t.Input}]},n}(W);var N=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.loader=new r.ObjectLoader,n}return h(n,e),n.prototype.loadLazyObject=function(){return d(this,void 0,void 0,(function(){var e=this;return l(this,(function(t){return[2,new Promise((function(t,n){e.loader.load(e.model,(function(e){t(e)}),void 0,n)}))]}))}))},n.decorators=[{type:t.Component,args:[{selector:"atft-object-loader",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n}(_);var X=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.loader=new s.OBJLoader,n.mtlLoader=new a.MTLLoader,n}return h(n,e),Object.defineProperty(n.prototype,"texturePath",{set:function(e){this.resourcePath=e},enumerable:!0,configurable:!0}),n.prototype.loadLazyObject=function(){return d(this,void 0,void 0,(function(){var e=this;return l(this,(function(t){return[2,new Promise((function(t,n){void 0===e.material?t():(e.mtlLoader.setResourcePath(e.resourcePath),e.mtlLoader.load(e.material,(function(n){n.preload(),e.loader.setMaterials(n),t()}),void 0,n))})).then((function(){return new Promise((function(t,n){e.loader.load(e.model,(function(e){t(e)}),void 0,n)}))}))]}))}))},n.decorators=[{type:t.Component,args:[{selector:"atft-obj-loader",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={material:[{type:t.Input}],texturePath:[{type:t.Input}],resourcePath:[{type:t.Input}]},n}(_);var Y=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n._overrideMaterialColor=void 0,n.material="basic",n.depthWrite=!0,n.centered=!0,n.loader=new c.SVGLoader,n}return h(n,e),Object.defineProperty(n.prototype,"overrideMaterialColor",{get:function(){return this._overrideMaterialColor},set:function(e){this._overrideMaterialColor=e,this.startLoading()},enumerable:!0,configurable:!0}),n.prototype.loadLazyObject=function(){return d(this,void 0,void 0,(function(){var e=this;return l(this,(function(t){return[2,new Promise((function(t,n){e.loader.load(e.model,(function(n){for(var o=n.paths,i=new r.Group,s=0;s<o.length;s++)for(var a=o[s],c=j(e._overrideMaterialColor?w(e._overrideMaterialColor):a.color,e.material,e.depthWrite),p=a.toShapes(!0,{}),u=0;u<p.length;u++){var h=p[u],d=new r.ShapeBufferGeometry(h),l=new r.Mesh(d,c);i.add(l)}(e.maxX||e.maxY)&&L(i,new r.Vector3(e.maxX,e.maxY,0)),e.centered&&R(i),t(i)}),void 0,n)}))]}))}))},n.decorators=[{type:t.Component,args:[{selector:"atft-svg-loader",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={overrideMaterialColor:[{type:t.Input}],material:[{type:t.Input}],depthWrite:[{type:t.Input}],maxX:[{type:t.Input}],maxY:[{type:t.Input}],centered:[{type:t.Input}]},n}(_);var k=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[X,N,Y],imports:[n.CommonModule],exports:[X,N,Y]}]}],e}(),V=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.materialColor=6139362,t.castShadow=!0,t.receiveShadow=!0,t.depthWrite=!0,t}return h(n,e),n.prototype.getMaterial=function(){return j(this.materialColor,this.material,this.depthWrite)},n.prototype.applyShadowProps=function(e){e.castShadow=this.castShadow,e.receiveShadow=this.receiveShadow},n.prototype.ngOnChanges=function(t){if(e.prototype.ngOnChanges.call(this,t),this.getObject()){var n=!1;["material","materialColor","depthWrite"].some((function(e){return e in t}))&&(this.applyMaterial(),n=!0),n&&this.rendererService.render()}},n.prototype.applyMaterial=function(){this.getObject().material=this.getMaterial()},n.propDecorators={material:[{type:t.Input}],materialColor:[{type:t.Input}],castShadow:[{type:t.Input}],receiveShadow:[{type:t.Input}],depthWrite:[{type:t.Input}]},n}(v);var B=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.width=1,n.height=1,n.depth=1,n.widthSegments=1,n.heightSegments=1,n.depthSegments=1,n}return h(n,e),n.prototype.newObject3DInstance=function(){var e=new r.BoxGeometry(this.width,this.height,this.depth,this.widthSegments,this.heightSegments,this.depthSegments),t=this.getMaterial(),n=new r.Mesh(e,t);return this.applyShadowProps(n),n},n.decorators=[{type:t.Component,args:[{selector:"atft-box-mesh",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={width:[{type:t.Input}],height:[{type:t.Input}],depth:[{type:t.Input}],widthSegments:[{type:t.Input}],heightSegments:[{type:t.Input}],depthSegments:[{type:t.Input}]},n}(V);var F=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.radiusTop=1,n.radiusBottom=1,n.height=1,n.radialSegments=8,n.heightSegments=1,n.openEnded=!1,n.thetaStart=0,n.thetaLength=2*Math.PI,n}return h(n,e),n.prototype.newObject3DInstance=function(){var e=new r.CylinderGeometry(this.radiusTop,this.radiusBottom,this.height,this.radialSegments,this.heightSegments,this.openEnded,this.thetaStart,this.thetaLength),t=this.getMaterial(),n=new r.Mesh(e,t);return this.applyShadowProps(n),n},n.decorators=[{type:t.Component,args:[{selector:"atft-cylinder-mesh",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={radiusTop:[{type:t.Input}],radiusBottom:[{type:t.Input}],height:[{type:t.Input}],radialSegments:[{type:t.Input}],heightSegments:[{type:t.Input}],openEnded:[{type:t.Input}],thetaStart:[{type:t.Input}],thetaLength:[{type:t.Input}]},n}(V);var U=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.thickness=2,n.sizeX=20,n.sizeY=20,n}return h(n,e),n.prototype.newObject3DInstance=function(){var e=this.sizeX/2,t=this.sizeY/2,n=this.thickness,o=new r.Shape;o.moveTo(-e,t),o.lineTo(-e-n,t+n),o.lineTo(e+n,t+n),o.lineTo(e+n,-t-n),o.lineTo(-e-n,-t-n),o.lineTo(-e-n,t+n),o.lineTo(-e,t),o.lineTo(-e,-t),o.lineTo(e,-t),o.lineTo(e,t),o.lineTo(-e,t);var i=new r.ShapeBufferGeometry(o),s=this.getMaterial(),a=new r.Mesh(i,s);return this.applyShadowProps(a),a},n.decorators=[{type:t.Component,args:[{selector:"atft-frame-mesh",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={thickness:[{type:t.Input}],sizeX:[{type:t.Input}],sizeY:[{type:t.Input}]},n}(V);var H=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.width=1,n.height=1,n.widthSegments=1,n.heightSegments=1,n}return h(n,e),n.prototype.newObject3DInstance=function(){var e=new r.PlaneBufferGeometry(this.width,this.height,this.widthSegments,this.heightSegments),t=this.getMaterial(),n=new r.Mesh(e,t);return this.applyShadowProps(n),n},n.decorators=[{type:t.Component,args:[{selector:"atft-plane-mesh",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={width:[{type:t.Input}],height:[{type:t.Input}],widthSegments:[{type:t.Input}],heightSegments:[{type:t.Input}]},n}(V);var Z=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n}return h(n,e),n.prototype.newObject3DInstance=function(){var e=new r.SphereGeometry(this.radius,this.widthSegments,this.hightSegments),t=this.getMaterial(),n=new r.Mesh(e,t);return this.applyShadowProps(n),n},n.decorators=[{type:t.Component,args:[{selector:"atft-sphere-mesh",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={radius:[{type:t.Input}],widthSegments:[{type:t.Input}],hightSegments:[{type:t.Input}]},n}(V);var q=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.radius=.4,n.radialSegments=8,n.tubularSegments=6,n.arc=2*Math.PI,n}return h(n,e),n.prototype.newObject3DInstance=function(){this.radius*=1,this.tube*=1,this.radialSegments*=1,this.tubularSegments*=1;var e=new r.TorusGeometry(this.radius,this.tube,this.radialSegments,this.tubularSegments),t=this.getMaterial(),n=new r.Mesh(e,t);return this.applyShadowProps(n),n},n.decorators=[{type:t.Component,args:[{selector:"atft-torus-mesh",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={radius:[{type:t.Input}],tube:[{type:t.Input}],radialSegments:[{type:t.Input}],tubularSegments:[{type:t.Input}],arc:[{type:t.Input}]},n}(V);var J=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=1,t.height=1,t.resolutionX=1280,t.resolutionY=720,t.widthSegments=1,t.heightSegments=1,t}return h(n,e),n.prototype.newObject3DInstance=function(){var e=new r.PlaneBufferGeometry(this.width,this.height,this.widthSegments,this.heightSegments),t=this.getMaterial(),n=new r.Mesh(e,t);this.applyShadowProps(n);var o=P(n),i=this.createCss3dObject();return this.scaleCss3d(i,o),n.add(i),n},n.prototype.scaleCss3d=function(e,t){var n=new r.Vector3(this.resolutionX,this.resolutionY,0),o=t.x/n.x,i=t.y/n.y,s=t.z/n.z;e.scale.set(o<1?o:1,i<1?i:1,s<1?s:1)},n.prototype.getMaterial=function(){return new r.MeshBasicMaterial({color:0,opacity:0,side:r.DoubleSide})},n.propDecorators={width:[{type:t.Input}],height:[{type:t.Input}],resolutionX:[{type:t.Input}],resolutionY:[{type:t.Input}]},n}(V);var $=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.video=document.createElement("video"),n}return h(n,e),n.prototype.createCss3dObject=function(){var e=document.createElement("div");e.style.width=this.resolutionX+"px",e.style.height=this.resolutionY+"px",e.style.backgroundColor="#000000",e.id="myWrapper",this.video.autoplay=!1,this.video.loop=!0,this.video.muted=!0;var t=document.createElement("source");return t.src=this.videoSrc,t.type="video/mp4",this.video.appendChild(t),e.appendChild(this.video),new o.CSS3DObject(e)},n.prototype.ngAfterViewInit=function(){var t=this;e.prototype.ngAfterViewInit.call(this),this.video.load(),this.video.addEventListener("canplay",(function(){console.log("EVENT"),t.video.play()}))},n.decorators=[{type:t.Component,args:[{selector:"atft-css3d-video-mesh",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={videoSrc:[{type:t.Input}]},n}(J);var K=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[B,F,U,H,Z,q,$],imports:[n.CommonModule],exports:[B,F,U,H,Z,q,$]}]}],e}(),Q=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.material="basic",n._materialColor=14342874,n._text="Text",n.size=10,n.height=.3,n.curveSegments=2,n.bevelEnabled=!1,n.bevelThickness=.1,n.bevelSize=.1,n.bevelOffset=0,n.bevelSegments=1,n.fontUrl="./assets/font/helvetiker_regular.typeface.json",n.castShadow=!0,n.receiveShadow=!0,n.depthWrite=!0,n.centered=!0,n}return h(n,e),Object.defineProperty(n.prototype,"materialColor",{get:function(){return this._materialColor},set:function(e){this._materialColor=e,this.startLoading()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e,this.startLoading()},enumerable:!0,configurable:!0}),n.prototype.getMaterial=function(){return j(this.materialColor,this.material,this.depthWrite)},n.prototype.loadLazyObject=function(){return d(this,void 0,void 0,(function(){var e=this;return l(this,(function(t){return[2,new Promise((function(t){(new r.FontLoader).load(e.fontUrl,(function(n){var o=new r.TextGeometry(e.text,{font:n,size:e.size,height:e.height,curveSegments:e.curveSegments,bevelEnabled:e.bevelEnabled,bevelThickness:e.bevelThickness,bevelSize:e.bevelSize,bevelOffset:e.bevelOffset,bevelSegments:e.bevelOffset}),i=e.getMaterial(),s=new r.Mesh(o,i);s.castShadow=e.castShadow,s.receiveShadow=e.receiveShadow,e.centered&&R(s),t(s)}))}))]}))}))},n.decorators=[{type:t.Component,args:[{selector:"atft-text-mesh",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={material:[{type:t.Input}],materialColor:[{type:t.Input}],text:[{type:t.Input}],size:[{type:t.Input}],height:[{type:t.Input}],curveSegments:[{type:t.Input}],bevelEnabled:[{type:t.Input}],bevelThickness:[{type:t.Input}],bevelSize:[{type:t.Input}],bevelOffset:[{type:t.Input}],bevelSegments:[{type:t.Input}],fontUrl:[{type:t.Input}],castShadow:[{type:t.Input}],receiveShadow:[{type:t.Input}],depthWrite:[{type:t.Input}],centered:[{type:t.Input}]},n}(W);var ee=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[Q],imports:[n.CommonModule],exports:[Q]}]}],e}(),te=function(e){function n(t){var n=e.call(this,t)||this;return n.rendererService=t,n.background=16777215,n.fog=!1,n.fogColor=10526880,n.fogNear=10,n.fogFar=500,t.setScene(n),n}return h(n,e),n.prototype.newObject3DInstance=function(){var e=new r.Scene;return e.background=new r.Color(w(this.background)),!0===this.fog&&(e.fog=new r.Fog(w(this.fogColor),this.fogNear,this.fogFar)),e},n.decorators=[{type:t.Component,args:[{selector:"atft-scene",providers:[{provide:v,useExisting:t.forwardRef((function(){return n}))}],template:"<ng-content></ng-content>"}]}],n.ctorParameters=function(){return[{type:m}]},n.propDecorators={background:[{type:t.Input}],fog:[{type:t.Input}],fogColor:[{type:t.Input}],fogNear:[{type:t.Input}],fogFar:[{type:t.Input}]},n}(v);var ne=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule,M,O,A,k,K,ee],declarations:[te],exports:[te,n.CommonModule,M,O,A,k,K,ee]}]}],e}(),re=function(){function e(){this.raycaster=new r.Raycaster,this.enabled=!1,this.groups=[],this.paused=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.subscribe()}return e.prototype.ngOnDestroy=function(){this.disable(),this.unsubscribe()},e.prototype.subscribe=function(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mousedown",this.onMouseDown),window.addEventListener("touchstart",this.onTouchStart)},e.prototype.unsubscribe=function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("touchstart",this.onTouchStart)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.enabled},enumerable:!0,configurable:!0}),e.prototype.setCamera=function(e){this.camera=e},e.prototype.addGroup=function(e){this.groups.push(e)},e.prototype.onMouseMove=function(e){if(this.isReady()){e.preventDefault();var t=this.getFirstIntersectedGroup(e.layerX,e.layerY);this.selected&&this.selected===t||(this.selected&&(this.selected.dispatchEvent({type:"mouseExit"}),this.selected=null),t&&(this.selected=t,this.selected.dispatchEvent({type:"mouseEnter"})))}},e.prototype.onMouseDown=function(e){if(this.isReady(!0)){e.preventDefault();var t=this.getFirstIntersectedGroup(e.layerX,e.layerY);t&&t.dispatchEvent({type:"mouseDown"})}},e.prototype.onTouchStart=function(e){if(this.isReady()){e.preventDefault();var t=this.getFirstIntersectedGroup(e.touches[0].clientX,e.touches[0].clientY);t&&t.dispatchEvent({type:"mouseDown"})}},e.prototype.isReady=function(e){return this.enabled&&(e||!this.paused)&&this.camera&&this.camera.camera&&this.groups&&this.groups.length>0},e.prototype.getFirstIntersectedGroup=function(e,t){e=e/window.innerWidth*2-1,t=-t/window.innerHeight*2+1;var n,o,i=new r.Vector3(e,t,.5);this.raycaster.setFromCamera(i,this.camera.camera);for(var s=0;s<this.groups.length;s++){var a=this.groups[s].getObject(),c=this.raycaster.intersectObject(a,!0);c.length>0&&(!n||n.distance>c[0].distance)&&(n=c[0],o=a)}return o||void 0},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}();var oe=function(){function e(e){this.rendererService=e,this.onResize=this.onResize.bind(this)}return e.prototype.ngAfterViewInit=function(){this.rendererService.initialize(this.canvas)},Object.defineProperty(e.prototype,"renderPane",{get:function(){return this.canvasRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvas",{get:function(){return this.canvasRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onResize=function(e){this.rendererService.resize(this.canvas,"100px"),this.rendererService.resize(this.canvas,"100%")},e.decorators=[{type:t.Component,args:[{selector:"atft-renderer-canvas",template:"<canvas #canvas>\r\n  <ng-content></ng-content>\r\n</canvas>\r\n",styles:[":host{display:flex;flex:1}canvas{flex:1}"]}]}],e.ctorParameters=function(){return[{type:m}]},e.propDecorators={canvasRef:[{type:t.ViewChild,args:["canvas",{static:!0}]}],onResize:[{type:t.HostListener,args:["window:resize",["$event"]]}]},e}();var ie=function(){function e(e,t){this.rendererService=e,this.raycasterService=t}return e.prototype.ngOnChanges=function(e){this.controls&&e.listeningControlElement&&(this.controls.dispose(),this.setUpControls())},e.prototype.ngOnDestroy=function(){this.controls&&this.controls.dispose()},e.prototype.configureListeners=function(){var e=this;this.controls.addEventListener("change",(function(){e.rendererService.render()})),this.raycasterService.isEnabled&&(this.controls.addEventListener("start",(function(){e.raycasterService.pause()})),this.controls.addEventListener("end",(function(){e.raycasterService.resume()})))},e.prototype.ngAfterViewInit=function(){if(void 0===this.childCameras||void 0===this.childCameras.first)throw new Error("Camera is not found");if(!this.webGlRenderer)throw new Error("webGlRenderer is not found");this.listeningControlElement=this.webGlRenderer.renderPane,this.setUpControls(),this.configureListeners(),this.rendererService.render()},e.propDecorators={childCameras:[{type:t.ContentChildren,args:[f,{descendants:!0}]}],webGlRenderer:[{type:t.ContentChild,args:[oe,{static:!1}]}]},e}();var se=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.rendererService=t,r.raycasterService=n,r.rotateSpeed=1,r.zoomSpeed=1.2,r}return h(n,e),n.prototype.setUpControls=function(){this.controls=new p.OrbitControls(this.childCameras.first.camera,this.listeningControlElement&&this.listeningControlElement.nativeElement),this.controls.rotateSpeed=this.rotateSpeed,this.controls.zoomSpeed=this.zoomSpeed},n.prototype.ngOnChanges=function(t){this.controls&&(e.prototype.ngOnChanges.call(this,t),t.rotateSpeed&&(this.controls.rotateSpeed=this.rotateSpeed),t.zoomSpeed&&(this.controls.zoomSpeed=this.zoomSpeed))},n.decorators=[{type:t.Component,args:[{selector:"atft-orbit-controls",template:"\n      <ng-content></ng-content>",styles:[":host{display:flex;flex:1}"]}]}],n.ctorParameters=function(){return[{type:m},{type:re}]},n.propDecorators={rotateSpeed:[{type:t.Input}],zoomSpeed:[{type:t.Input}]},n}(ie);var ae=function(e){function n(t,n,r){var o=e.call(this,t,n)||this;return o.rendererService=t,o.raycasterService=n,o.animationService=r,o.rotateSpeed=1,o.zoomSpeed=1.2,o.autoRotate=!1,o.autoRotateSpeed=.5,o.enableDamping=!1,o.dampingFactor=.1,o.screenSpacePanning=!1,o.minDistance=20,o.maxDistance=200,o.maxPolarAngle=Math.PI/2-.1,o.panSpeed=1.2,o}return h(n,e),n.prototype.ngOnChanges=function(t){this.controls&&(e.prototype.ngOnChanges.call(this,t),t.rotateSpeed&&(this.controls.rotateSpeed=this.rotateSpeed),t.zoomSpeed&&(this.controls.zoomSpeed=this.zoomSpeed))},n.prototype.setUpControls=function(){var e=this;this.controls=new p.MapControls(this.childCameras.first.camera,this.listeningControlElement&&this.listeningControlElement.nativeElement),this.controls.rotateSpeed=this.rotateSpeed,this.controls.zoomSpeed=this.zoomSpeed,this.controls.panSpeed=this.panSpeed,this.controls.autoRotate=this.autoRotate,this.controls.autoRotateSpeed=this.autoRotateSpeed,this.controls.enableDamping=this.enableDamping,this.controls.dampingFactor=this.dampingFactor,this.controls.screenSpacePanning=this.screenSpacePanning,this.controls.minDistance=this.minDistance,this.controls.maxDistance=this.maxDistance,this.controls.maxPolarAngle=this.maxPolarAngle,this.controls.update(),(this.autoRotate||this.enableDamping)&&(this.animationService.animate.subscribe((function(){e.controls.update()})),this.controls.addEventListener("change",(function(){e.rendererService.render()})),this.animationService.start()),this.rendererService.render()},n.decorators=[{type:t.Component,args:[{selector:"atft-map-controls",template:"\n      <ng-content></ng-content>",styles:[":host{display:flex;flex:1}"]}]}],n.ctorParameters=function(){return[{type:m},{type:re},{type:S}]},n.propDecorators={rotateSpeed:[{type:t.Input}],zoomSpeed:[{type:t.Input}],autoRotate:[{type:t.Input}],autoRotateSpeed:[{type:t.Input}],enableDamping:[{type:t.Input}],dampingFactor:[{type:t.Input}],screenSpacePanning:[{type:t.Input}],minDistance:[{type:t.Input}],maxDistance:[{type:t.Input}],maxPolarAngle:[{type:t.Input}],panSpeed:[{type:t.Input}]},n}(ie);var ce=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[se,ae],imports:[n.CommonModule],exports:[se,ae]}]}],e}(),pe=function(){function e(){}return e.prototype.transform=function(e){return e/180*Math.PI},e.decorators=[{type:t.Pipe,args:[{name:"deg2rad"}]}],e}(),ue=function(){function e(){}return e.prototype.transform=function(e){return e*(180/Math.PI)},e.decorators=[{type:t.Pipe,args:[{name:"rad2deg"}]}],e}(),he=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[pe,ue],exports:[pe,ue]}]}],e}(),de=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[oe],providers:[m],exports:[oe]}]}],e}(),le=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{providers:[S]}]}],e}(),fe=function(){function e(e,n){this.host=e,this.raycasterService=n,this.mouseEnter=new t.EventEmitter,this.mouseExit=new t.EventEmitter,this.mouseDown=new t.EventEmitter,this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseExit=this.onMouseExit.bind(this),this.onMouseDown=this.onMouseDown.bind(this)}return e.prototype.ngAfterViewInit=function(){this.raycasterService.addGroup(this.host),this.subscribeEvents()},e.prototype.subscribeEvents=function(){var e=this.host.getObject();e.addEventListener("mouseEnter",this.onMouseEnter),e.addEventListener("mouseExit",this.onMouseExit),e.addEventListener("mouseDown",this.onMouseDown)},e.prototype.unSubscribeEvents=function(){var e=this.host.getObject();e.removeEventListener("mouseEnter",this.onMouseEnter),e.removeEventListener("mouseExit",this.onMouseExit),e.removeEventListener("mouseDown",this.onMouseDown)},e.prototype.onMouseExit=function(){this.mouseExit.emit()},e.prototype.onMouseEnter=function(){this.mouseEnter.emit()},e.prototype.onMouseDown=function(){this.mouseDown.emit()},e.prototype.ngOnDestroy=function(){this.unSubscribeEvents()},e.decorators=[{type:t.Directive,args:[{selector:"[atft-raycaster-group]"}]}],e.ctorParameters=function(){return[{type:v},{type:re}]},e.propDecorators={mouseEnter:[{type:t.Output}],mouseExit:[{type:t.Output}],mouseDown:[{type:t.Output}]},e}();var me=function(){function e(e,t){this.host=e,this.raycasterService=t}return e.prototype.ngAfterViewInit=function(){this.raycasterService.setCamera(this.host)},e.decorators=[{type:t.Directive,args:[{selector:"[atft-raycaster-camera]"}]}],e.ctorParameters=function(){return[{type:f},{type:re}]},e}();var ye=function(){function e(e){this.raycasterService=e}return e.prototype.ngAfterViewInit=function(){this.raycasterService.enable()},e.decorators=[{type:t.Directive,args:[{selector:"[atft-raycaster-enable]"}]}],e.ctorParameters=function(){return[{type:re}]},e}();var ge=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[fe,me,ye],providers:[re],exports:[fe,me,ye]}]}],e}(),ve=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[g,ne,ce,he,de,le,ge],exports:[g,ne,ce,he,de,le,ge]}]}],e}();var be=function(){function e(){this.ms=0,this.count=0}return e.prototype.start=function(){this.lastTime=Date.now()},e.prototype.end=function(){var e=Date.now()-this.lastTime;this.ms+=e,this.count++},e.prototype.getStats=function(){return{ms:this.ms,count:this.count,callsPerSecond:Math.round(this.count/(this.ms/1e3))}},e.prototype.reset=function(){this.ms=0,this.count=0},e.decorators=[{type:t.Injectable}],e}();e.AnimationService=S,e.AtftModule=ve,e.AxesHelperComponent=x,e.BoxMeshComponent=B,e.Css3dVideoMeshComponent=$,e.CylinderMeshComponent=F,e.Deg2RadPipe=pe,e.DirectionalLightComponent=T,e.EmptyComponent=E,e.FrameMeshComponent=U,e.GridHelperComponent=D,e.HemisphereLightComponent=G,e.LineConnectorComponent=I,e.MapControlsComponent=ae,e.MeshLineConnectorComponent=C,e.ObjLoaderComponent=X,e.ObjectLoaderComponent=N,e.OrbitControlsComponent=se,e.PerspectiveCameraComponent=y,e.PlaneMeshComponent=H,e.PointLightComponent=z,e.Rad2DegPipe=ue,e.RaycasterCameraDirective=me,e.RaycasterEnableDirective=ye,e.RaycasterGroupDirective=fe,e.RaycasterService=re,e.RendererCanvasComponent=oe,e.RendererService=m,e.SVGLoaderComponent=Y,e.SceneComponent=te,e.SphereMeshComponent=Z,e.StatsService=be,e.TorusMeshComponent=q,e.appliedColor=w,e.appliedMaterial=j,e.calculateSize=P,e.fixCenter=R,e.scaleToFit=L,e.ɵa=g,e.ɵb=y,e.ɵba=B,e.ɵbb=V,e.ɵbc=F,e.ɵbd=U,e.ɵbe=H,e.ɵbf=Z,e.ɵbg=q,e.ɵbh=$,e.ɵbi=J,e.ɵbj=ee,e.ɵbk=Q,e.ɵbl=te,e.ɵbm=ce,e.ɵbn=se,e.ɵbo=ie,e.ɵbp=oe,e.ɵbq=re,e.ɵbr=ae,e.ɵbs=he,e.ɵbt=pe,e.ɵbu=ue,e.ɵbv=de,e.ɵbw=le,e.ɵbx=ge,e.ɵby=fe,e.ɵbz=me,e.ɵc=f,e.ɵca=ye,e.ɵd=m,e.ɵe=ne,e.ɵf=M,e.ɵg=I,e.ɵh=b,e.ɵi=v,e.ɵj=C,e.ɵk=S,e.ɵl=O,e.ɵm=x,e.ɵn=E,e.ɵo=D,e.ɵp=A,e.ɵq=T,e.ɵr=G,e.ɵs=z,e.ɵt=k,e.ɵu=X,e.ɵv=_,e.ɵw=W,e.ɵx=N,e.ɵy=Y,e.ɵz=K,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=atft.umd.min.js.map